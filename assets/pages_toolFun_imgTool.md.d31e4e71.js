import{_ as s,c as n,o as a,a as l}from"./app.cdf80e02.js";const g=JSON.parse('{"title":"\u5E38\u7528\u5DE5\u5177\u76F8\u5173","description":"","frontmatter":{},"headers":[{"level":2,"title":"1. \u56FE\u7247\u7684\u7011\u5E03\u6D41\u6392\u5E03","slug":"_1-\u56FE\u7247\u7684\u7011\u5E03\u6D41\u6392\u5E03","link":"#_1-\u56FE\u7247\u7684\u7011\u5E03\u6D41\u6392\u5E03","children":[]},{"level":2,"title":"2. \u5F02\u6B65\u65B9\u5F0F\u5F97\u5230\u56FE\u7247\u7684\u5927\u5C0F","slug":"_2-\u5F02\u6B65\u65B9\u5F0F\u5F97\u5230\u56FE\u7247\u7684\u5927\u5C0F","link":"#_2-\u5F02\u6B65\u65B9\u5F0F\u5F97\u5230\u56FE\u7247\u7684\u5927\u5C0F","children":[]}],"relativePath":"pages/toolFun/imgTool.md"}'),p={name:"pages/toolFun/imgTool.md"},o=l(`<h1 id="\u5E38\u7528\u5DE5\u5177\u76F8\u5173" tabindex="-1">\u5E38\u7528\u5DE5\u5177\u76F8\u5173 <a class="header-anchor" href="#\u5E38\u7528\u5DE5\u5177\u76F8\u5173" aria-hidden="true">#</a></h1><p><strong>_\u904D\u5386\u6587\u4EF6\u5939\u4E0B\u56FE\u7247\u5E76\u8FDB\u884C\u7011\u5E03\u6D41\u5E03\u5C40\u548C\u9884\u89C8\u56FE\u7247\uFF08\u6709\u7455\u75B5\u6CA1\u5B8C\u5584\uFF09\uFF1A<a href="https://github.com/Ybhdsg123/ybhdag-img/actions_" target="_blank" rel="noreferrer">https://github.com/Ybhdsg123/ybhdag-img/actions_</a></strong></p><h2 id="_1-\u56FE\u7247\u7684\u7011\u5E03\u6D41\u6392\u5E03" tabindex="-1">1. \u56FE\u7247\u7684\u7011\u5E03\u6D41\u6392\u5E03 <a class="header-anchor" href="#_1-\u56FE\u7247\u7684\u7011\u5E03\u6D41\u6392\u5E03" aria-hidden="true">#</a></h2><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki vp-code-dark"><code><span class="line"><span style="color:#586E75;">/**</span></span>
<span class="line"><span style="color:#586E75;"> * </span><span style="color:#93A1A1;font-style:italic;">@description</span><span style="color:#586E75;">: \u7011\u5E03\u6D41\u6392\u6CD5 \u7B49\u5BBD\u4E0D\u7B49\u9AD8</span></span>
<span class="line"><span style="color:#586E75;"> * </span><span style="color:#93A1A1;font-style:italic;">@param</span><span style="color:#586E75;"> </span><span style="color:#CB4B16;">{*}</span><span style="color:#586E75;"> </span><span style="color:#268BD2;">data</span><span style="color:#586E75;"> \u56FE\u7247\u6570\u7EC4 [{img:imgurl}]</span></span>
<span class="line"><span style="color:#586E75;"> * </span><span style="color:#93A1A1;font-style:italic;">@param</span><span style="color:#586E75;"> </span><span style="color:#CB4B16;">{*}</span><span style="color:#586E75;"> </span><span style="color:#268BD2;">clientW</span><span style="color:#586E75;"> \u56FE\u7247\u7684\u5BBD\u5EA6</span></span>
<span class="line"><span style="color:#586E75;"> * </span><span style="color:#93A1A1;font-style:italic;">@param</span><span style="color:#586E75;"> </span><span style="color:#CB4B16;">{*}</span><span style="color:#586E75;"> </span><span style="color:#268BD2;">columnNums</span><span style="color:#586E75;"> columnNums \u5217\u6570</span></span>
<span class="line"><span style="color:#586E75;"> * </span><span style="color:#93A1A1;font-style:italic;">@param</span><span style="color:#586E75;"> </span><span style="color:#CB4B16;">{*}</span><span style="color:#586E75;"> </span><span style="color:#268BD2;">gap</span><span style="color:#586E75;"> gap \u95F4\u9694</span></span>
<span class="line"><span style="color:#586E75;"> * </span><span style="color:#93A1A1;font-style:italic;">@return</span><span style="color:#586E75;"> </span><span style="color:#CB4B16;">{*}</span></span>
<span class="line"><span style="color:#586E75;"> */</span></span>
<span class="line"><span style="color:#859900;">export</span><span style="color:#839496;"> </span><span style="color:#93A1A1;font-style:italic;">function</span><span style="color:#839496;"> </span><span style="color:#268BD2;">useWaterfall</span><span style="color:#839496;">(data, clientW, columnNums, gap) {</span></span>
<span class="line"><span style="color:#839496;">  </span><span style="color:#93A1A1;font-style:italic;">let</span><span style="color:#839496;"> </span><span style="color:#268BD2;">pW</span><span style="color:#839496;"> </span><span style="color:#859900;">=</span><span style="color:#839496;"> </span><span style="color:#268BD2;">clientW</span><span style="color:#839496;"> </span><span style="color:#859900;">-</span><span style="color:#839496;"> </span><span style="color:#268BD2;">gap</span><span style="color:#839496;"> </span><span style="color:#859900;">*</span><span style="color:#839496;"> (</span><span style="color:#268BD2;">columnNums</span><span style="color:#839496;"> </span><span style="color:#859900;">-</span><span style="color:#839496;"> </span><span style="color:#D33682;">1</span><span style="color:#839496;">); </span><span style="color:#586E75;">// \u603B\u5BBD\u5EA6</span></span>
<span class="line"><span style="color:#839496;">  </span><span style="color:#93A1A1;font-style:italic;">const</span><span style="color:#839496;"> </span><span style="color:#268BD2;">columnHeights</span><span style="color:#839496;"> </span><span style="color:#859900;">=</span><span style="color:#839496;"> []; </span><span style="color:#586E75;">// \u5217\u7684\u9AD8\u5EA6</span></span>
<span class="line"><span style="color:#839496;">  </span><span style="color:#93A1A1;font-style:italic;">let</span><span style="color:#839496;"> </span><span style="color:#268BD2;">newList</span><span style="color:#839496;"> </span><span style="color:#859900;">=</span><span style="color:#839496;"> </span><span style="color:#268BD2;">JSON</span><span style="color:#839496;">.</span><span style="color:#268BD2;">parse</span><span style="color:#839496;">(</span><span style="color:#268BD2;">JSON</span><span style="color:#839496;">.</span><span style="color:#268BD2;">stringify</span><span style="color:#839496;">(</span><span style="color:#268BD2;">data</span><span style="color:#839496;">)); </span><span style="color:#586E75;">// \u6DF1\u62F7\u8D1D\u6570\u636E</span></span>
<span class="line"><span style="color:#839496;">  </span><span style="color:#268BD2;">newList</span><span style="color:#839496;">.length </span><span style="color:#859900;">&gt;</span><span style="color:#839496;"> </span><span style="color:#D33682;">0</span><span style="color:#839496;"> </span><span style="color:#859900;">&amp;&amp;</span></span>
<span class="line"><span style="color:#839496;">    </span><span style="color:#268BD2;">newList</span><span style="color:#839496;">.</span><span style="color:#268BD2;">forEach</span><span style="color:#839496;">(</span><span style="color:#93A1A1;font-style:italic;">async</span><span style="color:#839496;"> (obj, i) </span><span style="color:#93A1A1;font-style:italic;">=&gt;</span><span style="color:#839496;"> {</span></span>
<span class="line"><span style="color:#839496;">      </span><span style="color:#93A1A1;font-style:italic;">let</span><span style="color:#839496;"> </span><span style="color:#268BD2;">index</span><span style="color:#839496;"> </span><span style="color:#859900;">=</span><span style="color:#839496;"> </span><span style="color:#268BD2;">i</span><span style="color:#839496;"> </span><span style="color:#859900;">%</span><span style="color:#839496;"> </span><span style="color:#268BD2;">columnNums</span><span style="color:#839496;">; </span><span style="color:#586E75;">// \u904D\u5386\u7684\u56FE\u7247\u548C\u5217\u6570\u53D6\u4F59</span></span>
<span class="line"><span style="color:#839496;">      </span><span style="color:#268BD2;">obj</span><span style="color:#839496;">.</span><span style="color:#268BD2;">w</span><span style="color:#839496;"> </span><span style="color:#859900;">=</span><span style="color:#839496;"> </span><span style="color:#268BD2;">pW</span><span style="color:#839496;"> </span><span style="color:#859900;">/</span><span style="color:#839496;"> </span><span style="color:#268BD2;">columnNums</span><span style="color:#839496;">; </span><span style="color:#586E75;">// \u56FE\u7247\u5BBD\u5EA6</span></span>
<span class="line"><span style="color:#839496;">      </span><span style="color:#586E75;">// \u521B\u5EFA\u56FE\u7247\u5BF9\u8C61\u83B7\u53D6\u56FE\u7247\u7684\u5BBD\u9AD8</span></span>
<span class="line"><span style="color:#839496;">      </span><span style="color:#93A1A1;font-style:italic;">let</span><span style="color:#839496;"> </span><span style="color:#268BD2;">img</span><span style="color:#839496;"> </span><span style="color:#859900;">=</span><span style="color:#839496;"> </span><span style="color:#859900;">new</span><span style="color:#839496;"> </span><span style="color:#268BD2;">Image</span><span style="color:#839496;">();</span></span>
<span class="line"><span style="color:#839496;">      </span><span style="color:#268BD2;">img</span><span style="color:#839496;">.</span><span style="color:#268BD2;">src</span><span style="color:#839496;"> </span><span style="color:#859900;">=</span><span style="color:#839496;"> </span><span style="color:#268BD2;">obj</span><span style="color:#839496;">.</span><span style="color:#268BD2;">img</span><span style="color:#839496;">;</span></span>
<span class="line"><span style="color:#839496;">      </span><span style="color:#268BD2;">obj</span><span style="color:#839496;">.</span><span style="color:#268BD2;">h</span><span style="color:#839496;"> </span><span style="color:#859900;">=</span><span style="color:#839496;"> </span><span style="color:#268BD2;">Number</span><span style="color:#839496;">((</span><span style="color:#268BD2;">img</span><span style="color:#839496;">.</span><span style="color:#268BD2;">height</span><span style="color:#839496;"> </span><span style="color:#859900;">*</span><span style="color:#839496;"> (</span><span style="color:#268BD2;">obj</span><span style="color:#839496;">.</span><span style="color:#268BD2;">w</span><span style="color:#839496;"> </span><span style="color:#859900;">/</span><span style="color:#839496;"> </span><span style="color:#268BD2;">img</span><span style="color:#839496;">.</span><span style="color:#268BD2;">width</span><span style="color:#839496;">)).</span><span style="color:#268BD2;">toFixed</span><span style="color:#839496;">(</span><span style="color:#D33682;">0</span><span style="color:#839496;">));</span></span>
<span class="line"><span style="color:#839496;">      </span><span style="color:#268BD2;">obj</span><span style="color:#839496;">.</span><span style="color:#268BD2;">left</span><span style="color:#839496;"> </span><span style="color:#859900;">=</span><span style="color:#839496;"> </span><span style="color:#268BD2;">index</span><span style="color:#839496;"> </span><span style="color:#859900;">*</span><span style="color:#839496;"> (</span><span style="color:#268BD2;">obj</span><span style="color:#839496;">.</span><span style="color:#268BD2;">w</span><span style="color:#839496;"> </span><span style="color:#859900;">+</span><span style="color:#839496;"> </span><span style="color:#268BD2;">gap</span><span style="color:#839496;">); </span><span style="color:#586E75;">//\u5DE6\u8FB9\u8DDD\u79BB 2\u5217\u7684\u8BDD\uFF0C1/3/5\u8DDD\u79BB\u5DE6\u8FB9\u8DDD\u79BB\u4E3A0\uFF0C2/4/6\u8DDD\u79BB\u5DE6\u8FB9\u8DDD\u79BB\u4E3A\u56FE\u7247\u7684\u5BBD\u5EA6+\u95F4\u9694\u8DDD\u79BB</span></span>
<span class="line"><span style="color:#839496;">      </span><span style="color:#268BD2;">obj</span><span style="color:#839496;">.</span><span style="color:#268BD2;">top</span><span style="color:#839496;"> </span><span style="color:#859900;">=</span><span style="color:#839496;"> </span><span style="color:#268BD2;">columnHeights</span><span style="color:#839496;">[</span><span style="color:#268BD2;">index</span><span style="color:#839496;">] </span><span style="color:#859900;">+</span><span style="color:#839496;"> </span><span style="color:#268BD2;">gap</span><span style="color:#839496;"> </span><span style="color:#859900;">||</span><span style="color:#839496;"> </span><span style="color:#D33682;">0</span><span style="color:#839496;">; </span><span style="color:#586E75;">// \u5B9A\u4F4D\u9AD8\u5EA6</span></span>
<span class="line"><span style="color:#839496;">      </span><span style="color:#586E75;">// \u7B2C\u4E00\u5F20\u548C\u7B2C\u4E8C\u5F20\u8DDD\u79BB\u9876\u90E8\u7684\u9AD8\u5EA6\u4E3A0</span></span>
<span class="line"><span style="color:#839496;">      </span><span style="color:#859900;">if</span><span style="color:#839496;"> (</span><span style="color:#268BD2;">isNaN</span><span style="color:#839496;">(</span><span style="color:#268BD2;">columnHeights</span><span style="color:#839496;">[</span><span style="color:#268BD2;">index</span><span style="color:#839496;">])) {</span></span>
<span class="line"><span style="color:#839496;">        </span><span style="color:#268BD2;">columnHeights</span><span style="color:#839496;">[</span><span style="color:#268BD2;">index</span><span style="color:#839496;">] </span><span style="color:#859900;">=</span><span style="color:#839496;"> </span><span style="color:#268BD2;">obj</span><span style="color:#839496;">.</span><span style="color:#268BD2;">h</span><span style="color:#839496;">;</span></span>
<span class="line"><span style="color:#839496;">      } </span><span style="color:#859900;">else</span><span style="color:#839496;"> {</span></span>
<span class="line"><span style="color:#839496;">        </span><span style="color:#586E75;">// \u7B2C\u4E8C\u5F20\u5F80\u540E \u627E\u51FA\u524D\u9762\u7684\u9AD8\u5EA6\u6700\u5C0F\u7684\u7D22\u5F15</span></span>
<span class="line"><span style="color:#839496;">        </span><span style="color:#268BD2;">index</span><span style="color:#839496;"> </span><span style="color:#859900;">=</span><span style="color:#839496;"> </span><span style="color:#268BD2;">columnHeights</span><span style="color:#839496;">.</span><span style="color:#268BD2;">indexOf</span><span style="color:#839496;">(</span><span style="color:#268BD2;">Math</span><span style="color:#839496;">.</span><span style="color:#268BD2;">min</span><span style="color:#839496;">(</span><span style="color:#859900;">...</span><span style="color:#268BD2;">columnHeights</span><span style="color:#839496;">));</span></span>
<span class="line"><span style="color:#839496;">        </span><span style="color:#268BD2;">obj</span><span style="color:#839496;">.</span><span style="color:#268BD2;">left</span><span style="color:#839496;"> </span><span style="color:#859900;">=</span><span style="color:#839496;"> </span><span style="color:#268BD2;">index</span><span style="color:#839496;"> </span><span style="color:#859900;">*</span><span style="color:#839496;"> (</span><span style="color:#268BD2;">pW</span><span style="color:#839496;"> </span><span style="color:#859900;">/</span><span style="color:#839496;"> </span><span style="color:#268BD2;">columnNums</span><span style="color:#839496;"> </span><span style="color:#859900;">+</span><span style="color:#839496;"> </span><span style="color:#268BD2;">gap</span><span style="color:#839496;">); </span><span style="color:#586E75;">// \u6539\u53D8\u6BCF\u4E00\u5F20\u8DDD\u79BB\u5DE6\u8FB9\u7684\u8DDD\u79BB</span></span>
<span class="line"><span style="color:#839496;">        </span><span style="color:#268BD2;">obj</span><span style="color:#839496;">.</span><span style="color:#268BD2;">top</span><span style="color:#839496;"> </span><span style="color:#859900;">=</span><span style="color:#839496;"> </span><span style="color:#268BD2;">columnHeights</span><span style="color:#839496;">[</span><span style="color:#268BD2;">index</span><span style="color:#839496;">] </span><span style="color:#859900;">+</span><span style="color:#839496;"> </span><span style="color:#268BD2;">gap</span><span style="color:#839496;"> </span><span style="color:#859900;">||</span><span style="color:#839496;"> </span><span style="color:#D33682;">0</span><span style="color:#839496;">; </span><span style="color:#586E75;">// \u8DDD\u79BB\u4E0A\u9762\u7684\u8DDD\u79BB</span></span>
<span class="line"><span style="color:#839496;">        </span><span style="color:#268BD2;">columnHeights</span><span style="color:#839496;">[</span><span style="color:#268BD2;">index</span><span style="color:#839496;">] </span><span style="color:#859900;">=</span><span style="color:#839496;"> </span><span style="color:#268BD2;">obj</span><span style="color:#839496;">.</span><span style="color:#268BD2;">h</span><span style="color:#839496;"> </span><span style="color:#859900;">+</span><span style="color:#839496;"> </span><span style="color:#268BD2;">columnHeights</span><span style="color:#839496;">[</span><span style="color:#268BD2;">index</span><span style="color:#839496;">] </span><span style="color:#859900;">+</span><span style="color:#839496;"> </span><span style="color:#268BD2;">gap</span><span style="color:#839496;">; </span><span style="color:#586E75;">// \u7D2F\u52A0\u9AD8\u5EA6</span></span>
<span class="line"><span style="color:#839496;">      }</span></span>
<span class="line"><span style="color:#839496;">    });</span></span>
<span class="line"><span style="color:#839496;">  </span><span style="color:#859900;">return</span><span style="color:#839496;"> </span><span style="color:#268BD2;">newList</span><span style="color:#839496;">;</span></span>
<span class="line"><span style="color:#839496;">}</span></span>
<span class="line"></span></code></pre><pre class="shiki vp-code-light"><code><span class="line"><span style="color:#93A1A1;">/**</span></span>
<span class="line"><span style="color:#93A1A1;"> * </span><span style="color:#586E75;font-style:italic;">@description</span><span style="color:#93A1A1;">: \u7011\u5E03\u6D41\u6392\u6CD5 \u7B49\u5BBD\u4E0D\u7B49\u9AD8</span></span>
<span class="line"><span style="color:#93A1A1;"> * </span><span style="color:#586E75;font-style:italic;">@param</span><span style="color:#93A1A1;"> </span><span style="color:#CB4B16;">{*}</span><span style="color:#93A1A1;"> </span><span style="color:#268BD2;">data</span><span style="color:#93A1A1;"> \u56FE\u7247\u6570\u7EC4 [{img:imgurl}]</span></span>
<span class="line"><span style="color:#93A1A1;"> * </span><span style="color:#586E75;font-style:italic;">@param</span><span style="color:#93A1A1;"> </span><span style="color:#CB4B16;">{*}</span><span style="color:#93A1A1;"> </span><span style="color:#268BD2;">clientW</span><span style="color:#93A1A1;"> \u56FE\u7247\u7684\u5BBD\u5EA6</span></span>
<span class="line"><span style="color:#93A1A1;"> * </span><span style="color:#586E75;font-style:italic;">@param</span><span style="color:#93A1A1;"> </span><span style="color:#CB4B16;">{*}</span><span style="color:#93A1A1;"> </span><span style="color:#268BD2;">columnNums</span><span style="color:#93A1A1;"> columnNums \u5217\u6570</span></span>
<span class="line"><span style="color:#93A1A1;"> * </span><span style="color:#586E75;font-style:italic;">@param</span><span style="color:#93A1A1;"> </span><span style="color:#CB4B16;">{*}</span><span style="color:#93A1A1;"> </span><span style="color:#268BD2;">gap</span><span style="color:#93A1A1;"> gap \u95F4\u9694</span></span>
<span class="line"><span style="color:#93A1A1;"> * </span><span style="color:#586E75;font-style:italic;">@return</span><span style="color:#93A1A1;"> </span><span style="color:#CB4B16;">{*}</span></span>
<span class="line"><span style="color:#93A1A1;"> */</span></span>
<span class="line"><span style="color:#859900;">export</span><span style="color:#657B83;"> </span><span style="color:#586E75;font-style:italic;">function</span><span style="color:#657B83;"> </span><span style="color:#268BD2;">useWaterfall</span><span style="color:#657B83;">(data, clientW, columnNums, gap) {</span></span>
<span class="line"><span style="color:#657B83;">  </span><span style="color:#586E75;font-style:italic;">let</span><span style="color:#657B83;"> </span><span style="color:#268BD2;">pW</span><span style="color:#657B83;"> </span><span style="color:#859900;">=</span><span style="color:#657B83;"> </span><span style="color:#268BD2;">clientW</span><span style="color:#657B83;"> </span><span style="color:#859900;">-</span><span style="color:#657B83;"> </span><span style="color:#268BD2;">gap</span><span style="color:#657B83;"> </span><span style="color:#859900;">*</span><span style="color:#657B83;"> (</span><span style="color:#268BD2;">columnNums</span><span style="color:#657B83;"> </span><span style="color:#859900;">-</span><span style="color:#657B83;"> </span><span style="color:#D33682;">1</span><span style="color:#657B83;">); </span><span style="color:#93A1A1;">// \u603B\u5BBD\u5EA6</span></span>
<span class="line"><span style="color:#657B83;">  </span><span style="color:#586E75;font-style:italic;">const</span><span style="color:#657B83;"> </span><span style="color:#268BD2;">columnHeights</span><span style="color:#657B83;"> </span><span style="color:#859900;">=</span><span style="color:#657B83;"> []; </span><span style="color:#93A1A1;">// \u5217\u7684\u9AD8\u5EA6</span></span>
<span class="line"><span style="color:#657B83;">  </span><span style="color:#586E75;font-style:italic;">let</span><span style="color:#657B83;"> </span><span style="color:#268BD2;">newList</span><span style="color:#657B83;"> </span><span style="color:#859900;">=</span><span style="color:#657B83;"> </span><span style="color:#268BD2;">JSON</span><span style="color:#657B83;">.</span><span style="color:#268BD2;">parse</span><span style="color:#657B83;">(</span><span style="color:#268BD2;">JSON</span><span style="color:#657B83;">.</span><span style="color:#268BD2;">stringify</span><span style="color:#657B83;">(</span><span style="color:#268BD2;">data</span><span style="color:#657B83;">)); </span><span style="color:#93A1A1;">// \u6DF1\u62F7\u8D1D\u6570\u636E</span></span>
<span class="line"><span style="color:#657B83;">  </span><span style="color:#268BD2;">newList</span><span style="color:#657B83;">.length </span><span style="color:#859900;">&gt;</span><span style="color:#657B83;"> </span><span style="color:#D33682;">0</span><span style="color:#657B83;"> </span><span style="color:#859900;">&amp;&amp;</span></span>
<span class="line"><span style="color:#657B83;">    </span><span style="color:#268BD2;">newList</span><span style="color:#657B83;">.</span><span style="color:#268BD2;">forEach</span><span style="color:#657B83;">(</span><span style="color:#586E75;font-style:italic;">async</span><span style="color:#657B83;"> (obj, i) </span><span style="color:#586E75;font-style:italic;">=&gt;</span><span style="color:#657B83;"> {</span></span>
<span class="line"><span style="color:#657B83;">      </span><span style="color:#586E75;font-style:italic;">let</span><span style="color:#657B83;"> </span><span style="color:#268BD2;">index</span><span style="color:#657B83;"> </span><span style="color:#859900;">=</span><span style="color:#657B83;"> </span><span style="color:#268BD2;">i</span><span style="color:#657B83;"> </span><span style="color:#859900;">%</span><span style="color:#657B83;"> </span><span style="color:#268BD2;">columnNums</span><span style="color:#657B83;">; </span><span style="color:#93A1A1;">// \u904D\u5386\u7684\u56FE\u7247\u548C\u5217\u6570\u53D6\u4F59</span></span>
<span class="line"><span style="color:#657B83;">      </span><span style="color:#268BD2;">obj</span><span style="color:#657B83;">.</span><span style="color:#268BD2;">w</span><span style="color:#657B83;"> </span><span style="color:#859900;">=</span><span style="color:#657B83;"> </span><span style="color:#268BD2;">pW</span><span style="color:#657B83;"> </span><span style="color:#859900;">/</span><span style="color:#657B83;"> </span><span style="color:#268BD2;">columnNums</span><span style="color:#657B83;">; </span><span style="color:#93A1A1;">// \u56FE\u7247\u5BBD\u5EA6</span></span>
<span class="line"><span style="color:#657B83;">      </span><span style="color:#93A1A1;">// \u521B\u5EFA\u56FE\u7247\u5BF9\u8C61\u83B7\u53D6\u56FE\u7247\u7684\u5BBD\u9AD8</span></span>
<span class="line"><span style="color:#657B83;">      </span><span style="color:#586E75;font-style:italic;">let</span><span style="color:#657B83;"> </span><span style="color:#268BD2;">img</span><span style="color:#657B83;"> </span><span style="color:#859900;">=</span><span style="color:#657B83;"> </span><span style="color:#859900;">new</span><span style="color:#657B83;"> </span><span style="color:#268BD2;">Image</span><span style="color:#657B83;">();</span></span>
<span class="line"><span style="color:#657B83;">      </span><span style="color:#268BD2;">img</span><span style="color:#657B83;">.</span><span style="color:#268BD2;">src</span><span style="color:#657B83;"> </span><span style="color:#859900;">=</span><span style="color:#657B83;"> </span><span style="color:#268BD2;">obj</span><span style="color:#657B83;">.</span><span style="color:#268BD2;">img</span><span style="color:#657B83;">;</span></span>
<span class="line"><span style="color:#657B83;">      </span><span style="color:#268BD2;">obj</span><span style="color:#657B83;">.</span><span style="color:#268BD2;">h</span><span style="color:#657B83;"> </span><span style="color:#859900;">=</span><span style="color:#657B83;"> </span><span style="color:#268BD2;">Number</span><span style="color:#657B83;">((</span><span style="color:#268BD2;">img</span><span style="color:#657B83;">.</span><span style="color:#268BD2;">height</span><span style="color:#657B83;"> </span><span style="color:#859900;">*</span><span style="color:#657B83;"> (</span><span style="color:#268BD2;">obj</span><span style="color:#657B83;">.</span><span style="color:#268BD2;">w</span><span style="color:#657B83;"> </span><span style="color:#859900;">/</span><span style="color:#657B83;"> </span><span style="color:#268BD2;">img</span><span style="color:#657B83;">.</span><span style="color:#268BD2;">width</span><span style="color:#657B83;">)).</span><span style="color:#268BD2;">toFixed</span><span style="color:#657B83;">(</span><span style="color:#D33682;">0</span><span style="color:#657B83;">));</span></span>
<span class="line"><span style="color:#657B83;">      </span><span style="color:#268BD2;">obj</span><span style="color:#657B83;">.</span><span style="color:#268BD2;">left</span><span style="color:#657B83;"> </span><span style="color:#859900;">=</span><span style="color:#657B83;"> </span><span style="color:#268BD2;">index</span><span style="color:#657B83;"> </span><span style="color:#859900;">*</span><span style="color:#657B83;"> (</span><span style="color:#268BD2;">obj</span><span style="color:#657B83;">.</span><span style="color:#268BD2;">w</span><span style="color:#657B83;"> </span><span style="color:#859900;">+</span><span style="color:#657B83;"> </span><span style="color:#268BD2;">gap</span><span style="color:#657B83;">); </span><span style="color:#93A1A1;">//\u5DE6\u8FB9\u8DDD\u79BB 2\u5217\u7684\u8BDD\uFF0C1/3/5\u8DDD\u79BB\u5DE6\u8FB9\u8DDD\u79BB\u4E3A0\uFF0C2/4/6\u8DDD\u79BB\u5DE6\u8FB9\u8DDD\u79BB\u4E3A\u56FE\u7247\u7684\u5BBD\u5EA6+\u95F4\u9694\u8DDD\u79BB</span></span>
<span class="line"><span style="color:#657B83;">      </span><span style="color:#268BD2;">obj</span><span style="color:#657B83;">.</span><span style="color:#268BD2;">top</span><span style="color:#657B83;"> </span><span style="color:#859900;">=</span><span style="color:#657B83;"> </span><span style="color:#268BD2;">columnHeights</span><span style="color:#657B83;">[</span><span style="color:#268BD2;">index</span><span style="color:#657B83;">] </span><span style="color:#859900;">+</span><span style="color:#657B83;"> </span><span style="color:#268BD2;">gap</span><span style="color:#657B83;"> </span><span style="color:#859900;">||</span><span style="color:#657B83;"> </span><span style="color:#D33682;">0</span><span style="color:#657B83;">; </span><span style="color:#93A1A1;">// \u5B9A\u4F4D\u9AD8\u5EA6</span></span>
<span class="line"><span style="color:#657B83;">      </span><span style="color:#93A1A1;">// \u7B2C\u4E00\u5F20\u548C\u7B2C\u4E8C\u5F20\u8DDD\u79BB\u9876\u90E8\u7684\u9AD8\u5EA6\u4E3A0</span></span>
<span class="line"><span style="color:#657B83;">      </span><span style="color:#859900;">if</span><span style="color:#657B83;"> (</span><span style="color:#268BD2;">isNaN</span><span style="color:#657B83;">(</span><span style="color:#268BD2;">columnHeights</span><span style="color:#657B83;">[</span><span style="color:#268BD2;">index</span><span style="color:#657B83;">])) {</span></span>
<span class="line"><span style="color:#657B83;">        </span><span style="color:#268BD2;">columnHeights</span><span style="color:#657B83;">[</span><span style="color:#268BD2;">index</span><span style="color:#657B83;">] </span><span style="color:#859900;">=</span><span style="color:#657B83;"> </span><span style="color:#268BD2;">obj</span><span style="color:#657B83;">.</span><span style="color:#268BD2;">h</span><span style="color:#657B83;">;</span></span>
<span class="line"><span style="color:#657B83;">      } </span><span style="color:#859900;">else</span><span style="color:#657B83;"> {</span></span>
<span class="line"><span style="color:#657B83;">        </span><span style="color:#93A1A1;">// \u7B2C\u4E8C\u5F20\u5F80\u540E \u627E\u51FA\u524D\u9762\u7684\u9AD8\u5EA6\u6700\u5C0F\u7684\u7D22\u5F15</span></span>
<span class="line"><span style="color:#657B83;">        </span><span style="color:#268BD2;">index</span><span style="color:#657B83;"> </span><span style="color:#859900;">=</span><span style="color:#657B83;"> </span><span style="color:#268BD2;">columnHeights</span><span style="color:#657B83;">.</span><span style="color:#268BD2;">indexOf</span><span style="color:#657B83;">(</span><span style="color:#268BD2;">Math</span><span style="color:#657B83;">.</span><span style="color:#268BD2;">min</span><span style="color:#657B83;">(</span><span style="color:#859900;">...</span><span style="color:#268BD2;">columnHeights</span><span style="color:#657B83;">));</span></span>
<span class="line"><span style="color:#657B83;">        </span><span style="color:#268BD2;">obj</span><span style="color:#657B83;">.</span><span style="color:#268BD2;">left</span><span style="color:#657B83;"> </span><span style="color:#859900;">=</span><span style="color:#657B83;"> </span><span style="color:#268BD2;">index</span><span style="color:#657B83;"> </span><span style="color:#859900;">*</span><span style="color:#657B83;"> (</span><span style="color:#268BD2;">pW</span><span style="color:#657B83;"> </span><span style="color:#859900;">/</span><span style="color:#657B83;"> </span><span style="color:#268BD2;">columnNums</span><span style="color:#657B83;"> </span><span style="color:#859900;">+</span><span style="color:#657B83;"> </span><span style="color:#268BD2;">gap</span><span style="color:#657B83;">); </span><span style="color:#93A1A1;">// \u6539\u53D8\u6BCF\u4E00\u5F20\u8DDD\u79BB\u5DE6\u8FB9\u7684\u8DDD\u79BB</span></span>
<span class="line"><span style="color:#657B83;">        </span><span style="color:#268BD2;">obj</span><span style="color:#657B83;">.</span><span style="color:#268BD2;">top</span><span style="color:#657B83;"> </span><span style="color:#859900;">=</span><span style="color:#657B83;"> </span><span style="color:#268BD2;">columnHeights</span><span style="color:#657B83;">[</span><span style="color:#268BD2;">index</span><span style="color:#657B83;">] </span><span style="color:#859900;">+</span><span style="color:#657B83;"> </span><span style="color:#268BD2;">gap</span><span style="color:#657B83;"> </span><span style="color:#859900;">||</span><span style="color:#657B83;"> </span><span style="color:#D33682;">0</span><span style="color:#657B83;">; </span><span style="color:#93A1A1;">// \u8DDD\u79BB\u4E0A\u9762\u7684\u8DDD\u79BB</span></span>
<span class="line"><span style="color:#657B83;">        </span><span style="color:#268BD2;">columnHeights</span><span style="color:#657B83;">[</span><span style="color:#268BD2;">index</span><span style="color:#657B83;">] </span><span style="color:#859900;">=</span><span style="color:#657B83;"> </span><span style="color:#268BD2;">obj</span><span style="color:#657B83;">.</span><span style="color:#268BD2;">h</span><span style="color:#657B83;"> </span><span style="color:#859900;">+</span><span style="color:#657B83;"> </span><span style="color:#268BD2;">columnHeights</span><span style="color:#657B83;">[</span><span style="color:#268BD2;">index</span><span style="color:#657B83;">] </span><span style="color:#859900;">+</span><span style="color:#657B83;"> </span><span style="color:#268BD2;">gap</span><span style="color:#657B83;">; </span><span style="color:#93A1A1;">// \u7D2F\u52A0\u9AD8\u5EA6</span></span>
<span class="line"><span style="color:#657B83;">      }</span></span>
<span class="line"><span style="color:#657B83;">    });</span></span>
<span class="line"><span style="color:#657B83;">  </span><span style="color:#859900;">return</span><span style="color:#657B83;"> </span><span style="color:#268BD2;">newList</span><span style="color:#657B83;">;</span></span>
<span class="line"><span style="color:#657B83;">}</span></span>
<span class="line"></span></code></pre></div><h2 id="_2-\u5F02\u6B65\u65B9\u5F0F\u5F97\u5230\u56FE\u7247\u7684\u5927\u5C0F" tabindex="-1">2. \u5F02\u6B65\u65B9\u5F0F\u5F97\u5230\u56FE\u7247\u7684\u5927\u5C0F <a class="header-anchor" href="#_2-\u5F02\u6B65\u65B9\u5F0F\u5F97\u5230\u56FE\u7247\u7684\u5927\u5C0F" aria-hidden="true">#</a></h2><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki vp-code-dark"><code><span class="line"><span style="color:#586E75;">/**</span></span>
<span class="line"><span style="color:#586E75;"> * </span><span style="color:#93A1A1;font-style:italic;">@description</span><span style="color:#586E75;">:</span></span>
<span class="line"><span style="color:#586E75;"> * </span><span style="color:#93A1A1;font-style:italic;">@return</span><span style="color:#586E75;"> </span><span style="color:#CB4B16;">{*}</span><span style="color:#586E75;"> \u8FD4\u56DE\u4E00\u4E2A\u5F02\u6B65\u7684\u56FE\u7247\u5BBD\u9AD8\u4FE1\u606F</span></span>
<span class="line"><span style="color:#586E75;"> */</span></span>
<span class="line"><span style="color:#859900;">export</span><span style="color:#839496;"> </span><span style="color:#93A1A1;font-style:italic;">const</span><span style="color:#839496;"> </span><span style="color:#268BD2;">getImgSize</span><span style="color:#839496;"> </span><span style="color:#859900;">=</span><span style="color:#839496;"> (url) </span><span style="color:#93A1A1;font-style:italic;">=&gt;</span><span style="color:#839496;"> {</span></span>
<span class="line"><span style="color:#839496;">  </span><span style="color:#859900;">return</span><span style="color:#839496;"> </span><span style="color:#859900;">new</span><span style="color:#839496;"> </span><span style="color:#859900;">Promise</span><span style="color:#839496;">((resolve, reject) </span><span style="color:#93A1A1;font-style:italic;">=&gt;</span><span style="color:#839496;"> {</span></span>
<span class="line"><span style="color:#839496;">    </span><span style="color:#93A1A1;font-style:italic;">let</span><span style="color:#839496;"> </span><span style="color:#268BD2;">img</span><span style="color:#839496;"> </span><span style="color:#859900;">=</span><span style="color:#839496;"> </span><span style="color:#859900;">new</span><span style="color:#839496;"> </span><span style="color:#268BD2;">Image</span><span style="color:#839496;">();</span></span>
<span class="line"><span style="color:#839496;">    (</span><span style="color:#268BD2;">img</span><span style="color:#839496;">.</span><span style="color:#268BD2;">onload</span><span style="color:#839496;"> </span><span style="color:#859900;">=</span><span style="color:#839496;"> () </span><span style="color:#93A1A1;font-style:italic;">=&gt;</span><span style="color:#839496;"> {</span></span>
<span class="line"><span style="color:#839496;">      </span><span style="color:#268BD2;">resolve</span><span style="color:#839496;">({</span></span>
<span class="line"><span style="color:#839496;">        width: </span><span style="color:#268BD2;">img</span><span style="color:#839496;">.</span><span style="color:#268BD2;">width</span><span style="color:#839496;">,</span></span>
<span class="line"><span style="color:#839496;">        height: </span><span style="color:#268BD2;">img</span><span style="color:#839496;">.</span><span style="color:#268BD2;">height</span><span style="color:#839496;">,</span></span>
<span class="line"><span style="color:#839496;">      });</span></span>
<span class="line"><span style="color:#839496;">    }),</span></span>
<span class="line"><span style="color:#839496;">      (</span><span style="color:#268BD2;">img</span><span style="color:#839496;">.</span><span style="color:#268BD2;">onerror</span><span style="color:#839496;"> </span><span style="color:#859900;">=</span><span style="color:#839496;"> () </span><span style="color:#93A1A1;font-style:italic;">=&gt;</span><span style="color:#839496;"> {</span></span>
<span class="line"><span style="color:#839496;">        </span><span style="color:#268BD2;">reject</span><span style="color:#839496;">(</span><span style="color:#859900;">new</span><span style="color:#839496;"> </span><span style="color:#268BD2;">Error</span><span style="color:#839496;">(</span><span style="color:#2AA198;">&quot;error&quot;</span><span style="color:#839496;">));</span></span>
<span class="line"><span style="color:#839496;">      });</span></span>
<span class="line"><span style="color:#839496;">  });</span></span>
<span class="line"><span style="color:#839496;">};</span></span>
<span class="line"></span></code></pre><pre class="shiki vp-code-light"><code><span class="line"><span style="color:#93A1A1;">/**</span></span>
<span class="line"><span style="color:#93A1A1;"> * </span><span style="color:#586E75;font-style:italic;">@description</span><span style="color:#93A1A1;">:</span></span>
<span class="line"><span style="color:#93A1A1;"> * </span><span style="color:#586E75;font-style:italic;">@return</span><span style="color:#93A1A1;"> </span><span style="color:#CB4B16;">{*}</span><span style="color:#93A1A1;"> \u8FD4\u56DE\u4E00\u4E2A\u5F02\u6B65\u7684\u56FE\u7247\u5BBD\u9AD8\u4FE1\u606F</span></span>
<span class="line"><span style="color:#93A1A1;"> */</span></span>
<span class="line"><span style="color:#859900;">export</span><span style="color:#657B83;"> </span><span style="color:#586E75;font-style:italic;">const</span><span style="color:#657B83;"> </span><span style="color:#268BD2;">getImgSize</span><span style="color:#657B83;"> </span><span style="color:#859900;">=</span><span style="color:#657B83;"> (url) </span><span style="color:#586E75;font-style:italic;">=&gt;</span><span style="color:#657B83;"> {</span></span>
<span class="line"><span style="color:#657B83;">  </span><span style="color:#859900;">return</span><span style="color:#657B83;"> </span><span style="color:#859900;">new</span><span style="color:#657B83;"> </span><span style="color:#859900;">Promise</span><span style="color:#657B83;">((resolve, reject) </span><span style="color:#586E75;font-style:italic;">=&gt;</span><span style="color:#657B83;"> {</span></span>
<span class="line"><span style="color:#657B83;">    </span><span style="color:#586E75;font-style:italic;">let</span><span style="color:#657B83;"> </span><span style="color:#268BD2;">img</span><span style="color:#657B83;"> </span><span style="color:#859900;">=</span><span style="color:#657B83;"> </span><span style="color:#859900;">new</span><span style="color:#657B83;"> </span><span style="color:#268BD2;">Image</span><span style="color:#657B83;">();</span></span>
<span class="line"><span style="color:#657B83;">    (</span><span style="color:#268BD2;">img</span><span style="color:#657B83;">.</span><span style="color:#268BD2;">onload</span><span style="color:#657B83;"> </span><span style="color:#859900;">=</span><span style="color:#657B83;"> () </span><span style="color:#586E75;font-style:italic;">=&gt;</span><span style="color:#657B83;"> {</span></span>
<span class="line"><span style="color:#657B83;">      </span><span style="color:#268BD2;">resolve</span><span style="color:#657B83;">({</span></span>
<span class="line"><span style="color:#657B83;">        width: </span><span style="color:#268BD2;">img</span><span style="color:#657B83;">.</span><span style="color:#268BD2;">width</span><span style="color:#657B83;">,</span></span>
<span class="line"><span style="color:#657B83;">        height: </span><span style="color:#268BD2;">img</span><span style="color:#657B83;">.</span><span style="color:#268BD2;">height</span><span style="color:#657B83;">,</span></span>
<span class="line"><span style="color:#657B83;">      });</span></span>
<span class="line"><span style="color:#657B83;">    }),</span></span>
<span class="line"><span style="color:#657B83;">      (</span><span style="color:#268BD2;">img</span><span style="color:#657B83;">.</span><span style="color:#268BD2;">onerror</span><span style="color:#657B83;"> </span><span style="color:#859900;">=</span><span style="color:#657B83;"> () </span><span style="color:#586E75;font-style:italic;">=&gt;</span><span style="color:#657B83;"> {</span></span>
<span class="line"><span style="color:#657B83;">        </span><span style="color:#268BD2;">reject</span><span style="color:#657B83;">(</span><span style="color:#859900;">new</span><span style="color:#657B83;"> </span><span style="color:#268BD2;">Error</span><span style="color:#657B83;">(</span><span style="color:#2AA198;">&quot;error&quot;</span><span style="color:#657B83;">));</span></span>
<span class="line"><span style="color:#657B83;">      });</span></span>
<span class="line"><span style="color:#657B83;">  });</span></span>
<span class="line"><span style="color:#657B83;">};</span></span>
<span class="line"></span></code></pre></div>`,6),e=[o];function t(c,r,y,B,i,D){return a(),n("div",null,e)}const m=s(p,[["render",t]]);export{g as __pageData,m as default};
