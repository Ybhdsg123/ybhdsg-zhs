import{_ as D,v as k,c as y,o as x,j as s,p as _,t as S,F as A,x as P,k as B,G as C,ag as T,a as f}from"./chunks/framework.By2cXeI6.js";const q={style:{width:"600px"}},$={__name:"smallBalls",setup(b){return k(()=>{const a=document.getElementById("canvas-dom");if(a.width=600,a.getContext){let l=function(){e.fillStyle="rgba(255, 255, 255, 0.3)",e.fillRect(0,0,a.width,a.height),t.draw(),t.vy*=.99,t.vy+=.15,t.x+=t.vx,t.y+=t.vy,(t.x+t.vx>a.width||t.x+t.vx<0)&&(t.vx=-t.vx),(t.y+t.vy>a.height||t.y+t.vy<0)&&(t.vy=-t.vy,t.y+t.vy>310&&(t.y=50)),window.requestAnimationFrame(l)};const e=a.getContext("2d");let t={x:50,y:50,vx:1,vy:3,radius:10,color:"blue",draw:function(){e.beginPath(),e.arc(this.x,this.y,this.radius,0,Math.PI*2,!1),e.closePath(),e.fillStyle=this.color,e.fill()}};window.requestAnimationFrame(l),t.draw()}}),(a,e)=>(x(),y("div",q,[...e[0]||(e[0]=[s("canvas",{id:"canvas-dom",width:"600",height:"300"}," å½“å‰æµè§ˆå™¨ä¸æ”¯æŒcanvaså…ƒç´ ï¼Œè¯·å‡çº§æˆ–æ›´æ¢æµè§ˆå™¨ï¼ ",-1)])]))}},F=D($,[["__scopeId","data-v-1661bc13"]]),L="https://img2.baidu.com/it/u=4044887937,3129736188&fm=253&fmt=auto&app=138&f=JPEG?w=640&h=392",R={__name:"themeChange",setup(b){let a=null,e=null,t=null;const l=_(""),d=_("");k(()=>{e=document.getElementById("themeCanvas"),a=e.getContext("2d",{willReadFrequently:!0}),t=new Image,t.crossOrigin="Anonymous",t.src=L,t.onload=()=>{a.drawImage(t,0,0,600,300),t.style.display="none"},e.addEventListener("mousemove",function(n){i("move",n)}),e.addEventListener("click",n=>{i("click",n)});function i(n,o){const c=o.offsetX,E=o.offsetY,m=a.getImageData(c,E,1,1).data,v=`rgba(${m[0]}, ${m[1]}, ${m[2]}, ${m[3]/255})`;if(n=="move")l.value=v;else{d.value=v;const p=a.getImageData(0,0,e.width,e.height),I=p.data;for(let h=0;h<=I.length;h+=4)I[h]=m[0],I[h+1]=m[1],I[h+2]=m[2];a.putImageData(p,0,0)}return v}});const u=()=>{a.drawImage(t,0,0,600,300)},g=()=>{u();const i=a.getImageData(0,0,e.width,e.height),n=i.data;for(let o=0;o<=n.length;o+=4){const c=(n[o]+n[o+1]+n[o+2])/3;n[o]=c,n[o+1]=c,n[o+2]=c}a.putImageData(i,0,0)},r=()=>{u();const i=a.getImageData(0,0,e.width,e.height),n=i.data;for(let o=0;o<=n.length;o+=4)n[o]=255-n[o],n[o+1]=255-n[o+1],n[o+2]=255-n[o+2];a.putImageData(i,0,0)};return(i,n)=>(x(),y(A,null,[n[0]||(n[0]=s("canvas",{id:"themeCanvas",width:"600",height:"300"},null,-1)),s("div",null,"åˆ’è¿‡çš„é¢œè‰²ä¸ºï¼š"+S(l.value),1),s("div",null,"é€‰ä¸­çš„é¢œè‰²ï¼š "+S(d.value),1),s("button",{onClick:u},"è¿˜åŸ"),s("button",{onClick:g},"é»‘ç™½"),s("button",{onClick:r},"æ›å…‰")],64))}},V=D(R,[["__scopeId","data-v-fc085a83"]]),H={__name:"Signature",setup(b){let a=null,e=null;k(()=>{e=document.getElementById("signatureCanvas"),a=e.getContext("2d"),e.addEventListener("mouseenter",()=>{e.addEventListener("mousedown",d=>{a.beginPath(),a.moveTo(d.offsetX,d.offsetY),e.addEventListener("mousemove",l)}),e.addEventListener("mouseup",()=>{e.removeEventListener("mousemove",l)})});const l=d=>{a.lineTo(d.offsetX,d.offsetY),a.stroke()}});const t=()=>{a.clearRect(0,0,e.width,e.height)};return(l,d)=>(x(),y(A,null,[d[0]||(d[0]=s("canvas",{id:"signatureCanvas",width:"600",height:"300"},null,-1)),s("button",{onClick:t},"æ¸…ç©ºç”»å¸ƒ")],64))}},N=D(H,[["__scopeId","data-v-d42abf30"]]),M="/ybhdsg-zhs/assets/%E6%9C%AC%E8%8D%89%E7%BA%B2%E7%9B%AE.C4sxSLME.mp3",X=["src"],Y={__name:"audioVisualisation",setup(b){const a=_(null);let e=_([]),t=_(!1),l;return k(()=>{const d=document.querySelector("audio"),u=document.querySelector("canvas"),g=u.getContext("2d");d.onplay=function(){if(t.value)return;const r=new AudioContext,i=r.createMediaElementSource(d);a.value=r.createAnalyser(),a.value.fftSize=512,e.value=new Uint8Array(a.value.frequencyBinCount),i.connect(a.value),a.value.connect(r.destination),t.value=!0},l=()=>{requestAnimationFrame(l);const{width:r,height:i}=u;if(g.clearRect(0,0,r,i),!t.value)return;a.value.getByteFrequencyData(e.value);const n=e.value.length/2,o=r/n/2;console.log(n),g.fillStyle="#e0f9b5";for(let c=0;c<n;c++){const w=e.value[c]/255*i,m=c*o+r/2,v=r/2-(c+1)*o,p=i-w;g.fillRect(m,p,o-2,w),g.fillRect(v,p,o-2,w)}},l()}),P(()=>{window.requestAnimationFrame(l)}),(d,u)=>(x(),y("div",null,[u[0]||(u[0]=s("canvas",null,null,-1)),s("audio",{src:B(M),controls:""},null,8,X)]))}},W=D(Y,[["__scopeId","data-v-22a1e8fb"]]),z=JSON.parse('{"title":"canvas çš„å° demo","description":"","frontmatter":{},"headers":[],"relativePath":"pages/canvas/demo.md","filePath":"pages/canvas/demo.md"}'),O={name:"pages/canvas/demo.md"},G=Object.assign(O,{setup(b){return(a,e)=>(x(),y("div",null,[e[0]||(e[0]=s("h1",{id:"canvas-çš„å°-demo",tabindex:"-1"},[f("canvas çš„å° demo "),s("a",{class:"header-anchor",href:"#canvas-çš„å°-demo","aria-label":'Permalink to "canvas çš„å° demo"'},"â€‹")],-1)),e[1]||(e[1]=s("h2",{id:"_1-éŸ³é¢‘å¯è§†åŒ–",tabindex:"-1"},[f("1. éŸ³é¢‘å¯è§†åŒ– "),s("a",{class:"header-anchor",href:"#_1-éŸ³é¢‘å¯è§†åŒ–","aria-label":'Permalink to "1. éŸ³é¢‘å¯è§†åŒ–"'},"â€‹")],-1)),C(W),e[2]||(e[2]=s("h2",{id:"_2-å°çƒçš„è‡ªç”±è½ä½“è¿åŠ¨",tabindex:"-1"},[f("2. å°çƒçš„è‡ªç”±è½ä½“è¿åŠ¨ "),s("a",{class:"header-anchor",href:"#_2-å°çƒçš„è‡ªç”±è½ä½“è¿åŠ¨","aria-label":'Permalink to "2. å°çƒçš„è‡ªç”±è½ä½“è¿åŠ¨"'},"â€‹")],-1)),C(F),e[3]||(e[3]=s("h2",{id:"_3-çƒŸèŠ±",tabindex:"-1"},[f("3. çƒŸèŠ± "),s("a",{class:"header-anchor",href:"#_3-çƒŸèŠ±","aria-label":'Permalink to "3. çƒŸèŠ±"'},"â€‹")],-1)),e[4]||(e[4]=s("h2",{id:"_4-ä¸»é¢˜è‰²æ”¹å˜-å›¾ç‰‡åŠ ä¸Šæ»¤é•œ-å’Œæ‹¾è‰²å™¨",tabindex:"-1"},[f("4. ä¸»é¢˜è‰²æ”¹å˜ï¼ˆå›¾ç‰‡åŠ ä¸Šæ»¤é•œï¼‰å’Œæ‹¾è‰²å™¨ "),s("a",{class:"header-anchor",href:"#_4-ä¸»é¢˜è‰²æ”¹å˜-å›¾ç‰‡åŠ ä¸Šæ»¤é•œ-å’Œæ‹¾è‰²å™¨","aria-label":'Permalink to "4. ä¸»é¢˜è‰²æ”¹å˜ï¼ˆå›¾ç‰‡åŠ ä¸Šæ»¤é•œï¼‰å’Œæ‹¾è‰²å™¨"'},"â€‹")],-1)),C(V),e[5]||(e[5]=T('<div class="tip custom-block"><p class="custom-block-title"><code>getImageData()</code></p><p><code>getImageData()</code>æ–¹æ³•å¯ä»¥è¿”å›ä¸€ä¸ª<code>ImageData</code>å¯¹è±¡ã€‚</p><p><code>ImageData</code>å¯¹è±¡ç”¨æ¥æè¿°<code>canvas</code>åŒºåŸŸéšå«çš„åƒç´ æ•°æ®ï¼Œæ­¤åŒºåŸŸé€šè¿‡çŸ©å½¢è¡¨ç¤ºï¼Œ<strong>èµ·å§‹ç‚¹ä¸º(sx, sy)</strong>ã€<strong>å®½ä¸º swã€é«˜ä¸º sh</strong></p><p>è¯­æ³•ï¼š<code>getImageData(sx, sy, sw, sh)</code></p><p>å‚æ•°ï¼šx</p><p>sxï¼šå°†è¦è¢«æå–çš„å›¾åƒæ•°æ®çŸ©å½¢åŒºåŸŸçš„å·¦ä¸Šè§’ <code>x åæ ‡</code>;</p><p>syï¼šå°†è¦è¢«æå–çš„å›¾åƒæ•°æ®çŸ©å½¢åŒºåŸŸçš„å·¦ä¸Šè§’ <code>y åæ ‡</code>;</p><p>swï¼šå°†è¦è¢«æå–çš„å›¾åƒæ•°æ®çŸ©å½¢åŒºåŸŸçš„<code>å®½åº¦</code>;</p><p>shï¼šå°†è¦è¢«æå–çš„å›¾åƒæ•°æ®çŸ©å½¢åŒºåŸŸçš„<code>é«˜åº¦</code>;</p><p>ğŸ‰ ï¼š<code>getImageData(x,y,1,1)</code>ï¼šè·å–è·ç¦» x å’Œ y ä½ç½®çš„ <strong>1 åƒç´ </strong>ç‚¹çš„é¢œè‰²</p></div><div class="info custom-block"><p class="custom-block-title"><code>putImageData()</code></p><p><code>putImageData()</code>ï¼šå¯ä»¥å°†æ•°æ®ä»å·²æœ‰çš„<code>ImageData</code>å¯¹è±¡ç»˜åˆ¶ä¸ºä½å›¾</p><p>è¯­æ³•ï¼š <code>putImageData(imagedata, dx, dy, dirtyX, dirtyY, dirtyWidth, dirtyHeight)</code></p><p>å‚æ•°ï¼š</p><p>ImageDataï¼š<code>åŒ…å«åƒç´ å€¼çš„æ•°ç»„å¯¹è±¡</code>ã€‚ dxï¼šæºå›¾åƒæ•°æ®åœ¨ç›®æ ‡ç”»å¸ƒä¸­ <code>x è½´æ–¹å‘çš„åç§»é‡</code>ã€‚ dyï¼šæºå›¾åƒæ•°æ®åœ¨ç›®æ ‡ç”»å¸ƒä¸­ <code>y è½´æ–¹å‘çš„åç§»é‡</code>ã€‚ dirtyXï¼šå¯é€‰å‚æ•°ï¼Œåœ¨æºå›¾åƒæ•°æ®ä¸­ï¼ŒçŸ©å½¢åŒºåŸŸå·¦ä¸Šè§’çš„ä½ç½®ã€‚é»˜è®¤æ˜¯æ•´ä¸ªå›¾åƒæ•°æ®çš„å·¦ä¸Šè§’ï¼ˆx åæ ‡ï¼‰ã€‚ dirtyYï¼šå¯é€‰å‚æ•°ï¼Œåœ¨æºå›¾åƒæ•°æ®ä¸­ï¼ŒçŸ©å½¢åŒºåŸŸå·¦ä¸Šè§’çš„ä½ç½®ã€‚é»˜è®¤æ˜¯æ•´ä¸ªå›¾åƒæ•°æ®çš„å·¦ä¸Šè§’ï¼ˆy åæ ‡ï¼‰ã€‚ dirtyWidthï¼šå¯é€‰å‚æ•°ï¼Œåœ¨æºå›¾åƒæ•°æ®ä¸­ï¼ŒçŸ©å½¢åŒºåŸŸçš„å®½åº¦ã€‚é»˜è®¤æ˜¯å›¾åƒæ•°æ®çš„å®½åº¦ã€‚ dirtyHeightï¼šå¯é€‰å‚æ•°ï¼Œåœ¨æºå›¾åƒæ•°æ®ä¸­ï¼ŒçŸ©å½¢åŒºåŸŸçš„é«˜åº¦ã€‚é»˜è®¤æ˜¯å›¾åƒæ•°æ®çš„é«˜åº¦ã€‚</p></div><h2 id="_5-ç­¾å" tabindex="-1">5. ç­¾å <a class="header-anchor" href="#_5-ç­¾å" aria-label="Permalink to &quot;5. ç­¾å&quot;">â€‹</a></h2>',3)),C(N)]))}});export{z as __pageData,G as default};
