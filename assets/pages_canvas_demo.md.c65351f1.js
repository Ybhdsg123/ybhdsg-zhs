import{_ as C,h as k,o as w,c as M,p as R,d as E,b as o,F,g as B,i as b}from"./app.a4af9e71.js";const D=p=>(R("data-v-1661bc13"),p=p(),E(),p),N={style:{width:"600px"}},T=D(()=>o("canvas",{id:"canvas-dom",width:"600",height:"300"}," \u5F53\u524D\u6D4F\u89C8\u5668\u4E0D\u652F\u6301canvas\u5143\u7D20\uFF0C\u8BF7\u5347\u7EA7\u6216\u66F4\u6362\u6D4F\u89C8\u5668\uFF01 ",-1)),V=[T],W={__name:"smallBalls",setup(p){return k(()=>{const h=document.getElementById("canvas-dom");if(h.width=600,h.getContext){let d=function(){s.fillStyle="rgba(255, 255, 255, 0.3)",s.fillRect(0,0,h.width,h.height),e.draw(),e.vy*=.99,e.vy+=.15,e.x+=e.vx,e.y+=e.vy,(e.x+e.vx>h.width||e.x+e.vx<0)&&(e.vx=-e.vx),(e.y+e.vy>h.height||e.y+e.vy<0)&&(e.vy=-e.vy,e.y+e.vy>310&&(e.y=50)),window.requestAnimationFrame(d)};const s=h.getContext("2d");let e={x:50,y:50,vx:1,vy:3,radius:10,color:"blue",draw:function(){s.beginPath(),s.arc(this.x,this.y,this.radius,0,Math.PI*2,!1),s.closePath(),s.fillStyle=this.color,s.fill()}};window.requestAnimationFrame(d),e.draw()}}),(h,s)=>(w(),M("div",N,V))}},O=C(W,[["__scopeId","data-v-1661bc13"]]),j=o("canvas",null,null,-1),H=o("canvas",null,null,-1),J=o("canvas",null,null,-1),G={__name:"fireworks",setup(p){return k(()=>{const[h,s,e]=document.querySelectorAll("canvas"),[d,n,g]=[h,s,e].map(i=>i.getContext("2d"));let x=200;const v=[],f=[],u=[],_=3;let $=0;s.width=e.width=300,s.height=e.height=300,d.fillStyle="#000000";const I="Hi Canvas";let m=600;for(;m>window.innerWidth;)d.font=`900 ${x--}px Arial`,m=d.measureText(I).width;h.width=m,h.height=x*1.5,d.font=`900 ${x}px Arial`,d.fillText(I,0,x);const S=d.getImageData(0,0,h.width,h.height);for(let i=0,t=S.data.length;i<t;i+=4){const a=S.data[i+3],r=Math.floor(i/4)%S.width,c=Math.floor(i/4/S.width);a&&r%_===0&&c%_===0&&u.push({x:r,y:c})}g.fillStyle="#ffffff",g.shadowColor="#cccccc",g.shadowBlur=5,function i(){n.fillStyle="rgba(0, 0, 0, .1)",n.fillRect(0,0,s.width,s.height),$+=1,$%15===0&&v.push(new A),v.forEach((t,a)=>{t.draw(),t.update(),t.ySpeed>0&&(t.explode(),v.splice(a,1))}),f.forEach((t,a)=>{t.draw(),t.update(),(t.timer>=t.ttl||t.lightness>=99)&&(g.fillRect(t.target.x,t.target.y,_+1,_+1),f.splice(a,1))}),requestAnimationFrame(i)}();const l=(i,t,a)=>Math.abs(t-i)>.1?i+a*(t-i):t;function z(){if(u.length>0){const i=Math.floor(Math.random()*u.length);let{x:t,y:a}=u[i];return u.splice(i,1),t+=s.width/2-m/2,a+=s.height/2-x/2,{x:t,y:a}}}class q{constructor(t,a,r){this.x=t,this.y=a,this.hue=r,this.lightness=50,this.size=10+Math.random()*10;const c=Math.random()*2*Math.PI,y=1+Math.random()*6;this.xSpeed=Math.cos(c)*y,this.ySpeed=Math.sin(c)*y,this.target=z(),this.ttl=100,this.timer=0}draw(){n.fillStyle=`hsl(${this.hue}, 100%, ${this.lightness}%)`,n.beginPath(),n.arc(this.x,this.y,this.size,0,2*Math.PI),n.closePath(),n.fill()}update(){if(this.target){const t=this.target.x-this.x,a=this.target.y-this.y,r=Math.sqrt(t*t+a*a),c=Math.atan2(a,t),y=Math.cos(c)*5,P=Math.sin(c)*5;this.size=l(this.size,1.5,.05),r<5?(this.lightness=l(this.lightness,100,.01),this.xSpeed=this.ySpeed=0,this.x=l(this.x,this.target.x+_/2,.05),this.y=l(this.y,this.target.y+_/2,.05),this.timer+=1):r<10?(this.lightness=l(this.lightness,100,.01),this.xSpeed=l(this.xSpeed,y,.1),this.ySpeed=l(this.ySpeed,P,.1),this.timer+=1):(this.xSpeed=l(this.xSpeed,y,.02),this.ySpeed=l(this.ySpeed,P,.02))}else this.ySpeed+=.05,this.size=l(this.size,1,.05),this.y>s.height&&f.forEach((t,a)=>{t===this&&f.splice(a,1)});this.x=this.x+this.xSpeed,this.y=this.y+this.ySpeed}}class A{constructor(){const t=s.width/4;this.x=t+Math.random()*(s.width-t),this.y=s.height-15,this.angle=Math.random()*Math.PI/4-Math.PI/6,this.blastSpeed=6+Math.random()*7,this.shardCount=15+Math.floor(Math.random()*15),this.xSpeed=Math.sin(this.angle)*this.blastSpeed,this.ySpeed=-Math.cos(this.angle)*this.blastSpeed,this.hue=Math.floor(Math.random()*360),this.trail=[]}draw(){n.save(),n.translate(this.x,this.y),n.rotate(Math.atan2(this.ySpeed,this.xSpeed)+Math.PI/2),n.fillStyle=`hsl(${this.hue}, 100%, 50%)`,n.fillRect(0,0,5,15),n.restore()}update(){this.x=this.x+this.xSpeed,this.y=this.y+this.ySpeed,this.ySpeed+=.1}explode(){for(let t=0;t<70;t++)f.push(new q(this.x,this.y,this.hue))}}}),(h,s)=>(w(),M(F,null,[j,H,J],64))}},K=o("h1",{id:"canvas-\u7684\u5C0F-demo",tabindex:"-1"},[b("canvas \u7684\u5C0F demo "),o("a",{class:"header-anchor",href:"#canvas-\u7684\u5C0F-demo","aria-hidden":"true"},"#")],-1),L=o("h2",{id:"_1-\u5C0F\u7403\u7684\u81EA\u7531\u843D\u4F53\u8FD0\u52A8",tabindex:"-1"},[b("1. \u5C0F\u7403\u7684\u81EA\u7531\u843D\u4F53\u8FD0\u52A8 "),o("a",{class:"header-anchor",href:"#_1-\u5C0F\u7403\u7684\u81EA\u7531\u843D\u4F53\u8FD0\u52A8","aria-hidden":"true"},"#")],-1),Q=o("h2",{id:"_2-\u70DF\u82B1",tabindex:"-1"},[b("2. \u70DF\u82B1 "),o("a",{class:"header-anchor",href:"#_2-\u70DF\u82B1","aria-hidden":"true"},"#")],-1),Y=JSON.parse('{"title":"canvas \u7684\u5C0F demo","description":"","frontmatter":{},"headers":[{"level":2,"title":"1. \u5C0F\u7403\u7684\u81EA\u7531\u843D\u4F53\u8FD0\u52A8","slug":"_1-\u5C0F\u7403\u7684\u81EA\u7531\u843D\u4F53\u8FD0\u52A8","link":"#_1-\u5C0F\u7403\u7684\u81EA\u7531\u843D\u4F53\u8FD0\u52A8","children":[]},{"level":2,"title":"2. \u70DF\u82B1","slug":"_2-\u70DF\u82B1","link":"#_2-\u70DF\u82B1","children":[]}],"relativePath":"pages/canvas/demo.md"}'),U={name:"pages/canvas/demo.md"},Z=Object.assign(U,{setup(p){return(h,s)=>(w(),M("div",null,[K,L,B(O),Q,B(G)]))}});export{Y as __pageData,Z as default};
