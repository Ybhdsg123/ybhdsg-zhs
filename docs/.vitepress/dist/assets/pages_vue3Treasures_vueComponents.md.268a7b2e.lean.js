import{_ as v,l as q,e as D,h as C,o as h,c as g,b as n,t as B,n as L,u as E,y as M,z as I,i as N,A as R,p as j,d as O,g as u,w as P,a as w,j as A}from"./app.e6a24019.js";const W=["data-text"],$={__name:"autoEllipsis",props:{text:{type:String,default:""},showLine:{type:[Number,String],default:1},isShowSuffix:{type:Boolean,default:!1},textStyle:{type:Object,default:()=>{}}},setup(o){const s=o;q(a=>({"5b5d230d":s.showLine}));const t={fontSize:"12px",...s.textStyle},l=D(null),e=D(s.text),r=parseInt(t.fontSize),i=D(!1);C(()=>{const{text:a,isShowEllipsis:p}=c(l.value,s.text);e.value=a,i.value=p});const c=(a,p)=>{let y;const x=a&&a.clientWidth;if(y=d(p.trim(),t)>=x*s.showLine,y&&s.isShowSuffix){const _=p.split(".").reverse()[0],b=Math.round((_.length+1)*.5),S=(Math.ceil(x/r)*s.showLine).toFixed(0)-b-2;p=p.slice(0,S)+"..."+_}return{text:p,isShowEllipsis:y}},d=(a,p)=>{const y=parseInt(p.fontSize),m=document.createElement("canvas").getContext("2d"),_=window.devicePixelRatio||1,b=_*y||_*10,S=p.fontStyle||"sans-serif";m.font=`${b}px ${S}`;const F=m.measureText(a),z=F.width,T=F.actualBoundingBoxRight+F.actualBoundingBoxLeft;return Math.max(z*_,T*_)};return(a,p)=>(h(),g("div",{class:"auto-ellipsis hover-tip","data-text":s.text,ref_key:"autoEllipsisRef",ref:l},[n("span",{class:L([i.value?"overflow-hide-moreline":""]),style:t},B(e.value),3)],8,W))}},f=v($,[["__scopeId","data-v-91b6df93"]]);const V={class:"my-loading"},U={__name:"loading",props:{size:{type:[Number,String],default:"mini"}},setup(o){const s=o;q(i=>({"73f791dc":E(r),"6cd8e7b8":E(e)}));const l={mini:60,small:80,medium:100,large:200}[s.size];let e;C(()=>{e=window.devicePixelRatio});const r=l?l+"px":s.size+"px";return(i,c)=>(h(),g("div",V))}},k=v(U,[["__scopeId","data-v-bba6dd69"]]);function H(o){return M(()=>{const s=document.createElement("canvas"),t=s.getContext("2d"),l=window.devicePixelRatio||1,r=o.fontSize*l+"px serif",{width:i,actualBoundingBoxRight:c,actualBoundingBoxLeft:d}=t.measureText(o.text),a=Math.max(100,i,c+d)+o.gap*l;return s.width=a,s.height=a,t.translate(s.width/2,s.height/2),t.rotate(Math.PI/180*-45),t.fillStyle="#f40",t.textAlign="left",t.textBaseline="middle",t.font=r,t.fillText(o.text,0,0),{base64:s.toDataURL(),size:a,styleSize:a/l}})}const J={__name:"imgWatermark",props:{text:{type:String,required:!0,default:"waterMark"},fontSize:{type:[Number,String],default:10},gap:{type:Number,default:10}},setup(o){const s=o,t=D(null),l=H(s);let e;const r=D(0);I(()=>{if(r.value,!t.value)return;e&&e.remove();const{base64:c,size:d,styleSize:a}=l.value;e=document.createElement("div"),e.style.backgroundImage=`url(${c})`,e.style.backgroundSize=`${a}px ${a}px`,e.style.backgroundRepeat="repeat",e.style.pointerEvents="none",e.style.position="absolute",e.style.zInde=9999,e.style.inset=0,t.value.appendChild(e)});let i;return C(()=>{i=new MutationObserver(c=>{for(const d of c){for(const a of d.removedNodes)if(a===e){r.value++;return}if(d.target===e){r.value++;return}}}),i.observe(t.value,{childList:!0,attributes:!0,subtree:!0})}),N(()=>{i&&i.disconnect(),e=null}),(c,d)=>(h(),g("div",{class:"water-mark",ref_key:"parentRef",ref:t},[R(c.$slots,"default",{},void 0,!0)],512))}},G=v(J,[["__scopeId","data-v-74f2beff"]]);const K={},Q=o=>(j("data-v-ea570d53"),o=o(),O(),o),X={class:"content"},Y=Q(()=>n("div",{class:"crash-ball-loading"},[n("div",{class:"ball left-ball"}),n("div",{class:"ball right-ball"})],-1)),Z=[Y];function ss(o,s){return h(),g("div",X,Z)}const es=v(K,[["render",ss],["__scopeId","data-v-ea570d53"]]),ts=w("",3),as={style:{width:"180px"}},ns=w("",4),os=w("",3),ls=n("blockquote",null,[n("p",null,"\u4EE3\u7801\u5730\u5740\uFF1Apages/vue3Treasures/components/crashBallLoading.vue")],-1),is=n("h2",{id:"_3-\u56FE\u7247\u6C34\u5370",tabindex:"-1"},[A("3. \u56FE\u7247\u6C34\u5370 "),n("a",{class:"header-anchor",href:"#_3-\u56FE\u7247\u6C34\u5370","aria-hidden":"true"},"#")],-1),ps=n("div",null,[A(" MutationObserver \u63A5\u53E3\u63D0\u4F9B\u4E86\u76D1\u89C6\u5BF9 DOM \u6811\u6240\u505A\u66F4\u6539\u7684\u80FD\u529B\u3002\u5B83\u88AB\u8BBE\u8BA1\u4E3A\u65E7\u7684 Mutation Events \u529F\u80FD\u7684\u66FF\u4EE3\u54C1\uFF0C\u8BE5\u529F\u80FD\u662F DOM3 Events \u89C4\u8303\u7684\u4E00\u90E8\u5206\u3002 "),n("p",null,"disconnect(): \u5173\u95ED\u76D1\u542C\uFF0C \u963B\u6B62 MutationObserver \u5B9E\u4F8B\u7EE7\u7EED\u63A5\u6536\u7684\u901A\u77E5\uFF0C\u76F4\u5230\u518D\u6B21\u8C03\u7528\u5176 observe() \u65B9\u6CD5\uFF0C\u8BE5\u89C2\u5BDF\u8005\u5BF9\u8C61\u5305\u542B\u7684\u56DE\u8C03\u51FD\u6570\u90FD\u4E0D\u4F1A\u518D\u88AB\u8C03\u7528\u3002"),n("p",null,"observe(): \u5F00\u542F\u76D1\u542C\uFF0C\u914D\u7F6E MutationObserver \u5728 DOM \u66F4\u6539\u5339\u914D\u7ED9\u5B9A\u9009\u9879\u65F6\uFF0C\u901A\u8FC7\u5176\u56DE\u8C03\u51FD\u6570\u5F00\u59CB\u63A5\u6536\u901A\u77E5\u3002"),n("p",null,"takeRecords():\u4ECE MutationObserver \u7684\u901A\u77E5\u961F\u5217\u4E2D\u5220\u9664\u6240\u6709\u5F85\u5904\u7406\u7684\u901A\u77E5\uFF0C\u5E76\u5C06\u5B83\u4EEC\u8FD4\u56DE\u5230 MutationRecord \u5BF9\u8C61\u7684\u65B0 Array \u4E2D\u3002")],-1),cs=n("blockquote",null,[n("p",null,"\u4EE3\u7801\u5730\u5740\uFF1Apages/vue3Treasures/components/imgWatermark.vue")],-1),rs=n("blockquote",null,[n("p",null,[n("a",{href:"https://developer.mozilla.org/zh-CN/docs/Web/API/MutationObserver",target:"_blank",rel:"noreferrer"},"MutationObserver----MDN")])],-1),_s=JSON.parse('{"title":"\u622A\u53D6\u5B57\u7B26\u7EC4\u4EF6","description":"","frontmatter":{},"headers":[{"level":2,"title":"1. \u81EA\u52A8\u7701\u7565\u6587\u672C","slug":"_1-\u81EA\u52A8\u7701\u7565\u6587\u672C","link":"#_1-\u81EA\u52A8\u7701\u7565\u6587\u672C","children":[]},{"level":2,"title":"2. loading \u6548\u679C","slug":"_2-loading-\u6548\u679C","link":"#_2-loading-\u6548\u679C","children":[{"level":3,"title":"2.1 \u8F6C\u5708 loading","slug":"_2-1-\u8F6C\u5708-loading","link":"#_2-1-\u8F6C\u5708-loading","children":[]},{"level":3,"title":"2.2 \u5C0F\u7403\u78B0\u649E loading","slug":"_2-2-\u5C0F\u7403\u78B0\u649E-loading","link":"#_2-2-\u5C0F\u7403\u78B0\u649E-loading","children":[]}]},{"level":2,"title":"3. \u56FE\u7247\u6C34\u5370","slug":"_3-\u56FE\u7247\u6C34\u5370","link":"#_3-\u56FE\u7247\u6C34\u5370","children":[]}],"relativePath":"pages/vue3Treasures/vueComponents.md"}'),ds={name:"pages/vue3Treasures/vueComponents.md"},ys=Object.assign(ds,{setup(o){return(s,t)=>(h(),g("div",null,[ts,n("div",as,[u(f,{text:"1. \u5355\u884C\u5C55\u793A\u9ED8\u8BA4\u7701\u7565 \u5355\u884C\u5C55\u793A\u9ED8\u8BA4\u7701\u7565"})]),u(f,{style:{width:"200px"},isShowSuffix:"",text:"2. \u5355\u884C\u5E26\u540E\u7F00\u7701\u7565\u5355\u884C\u5E26\u540E\u7F00\u7701\u7565\u5355\u884C\u5E26\u540E\u7F00\u7701\u7565.jpeg"}),u(f,{style:{width:"80px"},showLine:2,text:"3. \u591A\u884C\u5C55\u793A\u9ED8\u8BA4\u7701\u7565\u5C55\u793A\u9ED8\u8BA4\u7701\u7565.jpeg"}),u(f,{style:{width:"220px"},isShowSuffix:"",showLine:2,text:"4. \u591A\u884C\u5C55\u793A\u5E26\u540E\u7F00\u7701\u7565\u591A\u884C\u5C55\u793A\u5E26\u540E\u7F00\u7701\u7565.jpg\u591A\u884C\u5C55\u793A\u5E26\u540E\u7F00\u7701\u7565\u591A\u884C\u5C55\u793A\u5E26\u540E\u7F00\u7701\u7565.jpg"}),ns,u(k),u(k,{size:30}),os,u(es),ls,is,u(G,{text:"\u4FB5\u6743\u5FC5\u7A76"},{default:P(()=>[ps]),_:1}),cs,rs]))}});export{_s as __pageData,ys as default};
