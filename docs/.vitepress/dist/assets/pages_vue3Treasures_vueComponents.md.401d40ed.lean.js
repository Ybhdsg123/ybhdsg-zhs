import{_ as m,l as k,e as y,h as q,o as g,c as D,b as n,t as B,n as z,u as C,x as A,m as L,i as M,y as I,p as R,d as N,g as u,w as j,a as S,j as T}from"./app.5831fc5a.js";const O=["data-text"],P={__name:"autoEllipsis",props:{text:{type:String,default:""},showLine:{type:[Number,String],default:1},isShowSuffix:{type:Boolean,default:!1},textStyle:{type:Object,default:()=>{}}},setup(o){const s=o;k(a=>({"83b19302":s.showLine}));const t={fontSize:"12px",...s.textStyle},l=y(null),e=y(s.text),c=parseInt(t.fontSize),i=y(!1);q(()=>{const{text:a,isShowEllipsis:r}=p(l.value,s.text);e.value=a,i.value=r});const p=(a,r)=>{let F;const _=a&&a.clientWidth;if(F=d(r.trim(),c)>=_*s.showLine,F&&s.isShowSuffix){const v=r.split(".").reverse()[0],h=Math.round((v.length+1)*.5),b=(Math.ceil(_/c)*s.showLine).toFixed(0)-h-2;r=r.slice(0,b)+"..."+v}return{text:r,isShowEllipsis:F}},d=(a,r=10)=>{const _=document.createElement("canvas").getContext("2d"),f=window.devicePixelRatio||1,v=f*r;_.font=`${v}px sans-serif`;const h=_.measureText(a),b=h.width,w=h.actualBoundingBoxRight+h.actualBoundingBoxLeft;return Math.max(b*f,w*f)};return(a,r)=>(g(),D("div",{class:"auto-ellipsis hover-tip","data-text":s.text,ref_key:"autoEllipsisRef",ref:l},[n("span",{class:z([i.value?"overflow-hide-moreline":""]),style:t},B(e.value),3)],8,O))}},x=m(P,[["__scopeId","data-v-c99b5b8f"]]);const W={class:"my-loading"},$={__name:"loading",props:{size:{type:[Number,String],default:"mini"}},setup(o){const s=o;k(i=>({"763b3e3d":C(c),bbf7d7a6:C(e)}));const l={mini:60,small:80,medium:100,large:200}[s.size],e=window.devicePixelRatio,c=l?l+"px":s.size+"px";return(i,p)=>(g(),D("div",W))}},E=m($,[["__scopeId","data-v-b89dcc79"]]);function V(o){return A(()=>{const s=document.createElement("canvas"),t=s.getContext("2d"),l=window.devicePixelRatio||1,c=o.fontSize*l+"px serif";t.font=c;const{width:i,actualBoundingBoxRight:p,actualBoundingBoxLeft:d}=t.measureText(o.text),a=Math.max(100,i,p+d)+o.gap*l;return s.width=a,s.height=a,t.translate(s.width/2,s.height/2),t.rotate(Math.PI/180*-45),t.fillStyle="#f40",t.textAlign="left",t.textBaseline="middle",t.fillText(o.text,0,0),{base64:s.toDataURL(),size:a,styleSize:a/l}})}const U={__name:"imgWatermark",props:{text:{type:String,required:!0,default:"waterMark"},fontSize:{type:Number,default:16},gap:{type:Number,default:10}},setup(o){const s=o,t=y(null),l=V(s);let e;const c=y(0);L(()=>{if(c.value,!t.value)return;e&&e.remove();const{base64:p,size:d,styleSize:a}=l.value;e=document.createElement("div"),e.style.backgroundImage=`url(${p})`,e.style.backgroundSize=`${a}px ${a}px`,e.style.backgroundRepeat="repeat",e.style.pointerEvents="none",e.style.position="absolute",e.style.zInde=9999,e.style.inset=0,t.value.appendChild(e)});let i;return q(()=>{i=new MutationObserver(p=>{for(const d of p){for(const a of d.removedNodes)if(a===e){c.value++;return}if(d.target===e){c.value++;return}}}),i.observe(t.value,{childList:!0,attributes:!0,subtree:!0})}),M(()=>{i&&i.disconnect(),e=null}),(p,d)=>(g(),D("div",{class:"water-mark",ref_key:"parentRef",ref:t},[I(p.$slots,"default",{},void 0,!0)],512))}},H=m(U,[["__scopeId","data-v-d83102da"]]);const J={},G=o=>(R("data-v-ea570d53"),o=o(),N(),o),K={class:"content"},Q=G(()=>n("div",{class:"crash-ball-loading"},[n("div",{class:"ball left-ball"}),n("div",{class:"ball right-ball"})],-1)),X=[Q];function Y(o,s){return g(),D("div",K,X)}const Z=m(J,[["render",Y],["__scopeId","data-v-ea570d53"]]),ss=S("",3),es={style:{width:"80px"}},ts=S("",4),as=S("",3),ns=n("blockquote",null,[n("p",null,"\u4EE3\u7801\u5730\u5740\uFF1Apages/vue3Treasures/components/crashBallLoading.vue")],-1),os=n("h2",{id:"_3-\u56FE\u7247\u6C34\u5370",tabindex:"-1"},[T("3. \u56FE\u7247\u6C34\u5370 "),n("a",{class:"header-anchor",href:"#_3-\u56FE\u7247\u6C34\u5370","aria-hidden":"true"},"#")],-1),ls=n("div",null,[T(" MutationObserver \u63A5\u53E3\u63D0\u4F9B\u4E86\u76D1\u89C6\u5BF9 DOM \u6811\u6240\u505A\u66F4\u6539\u7684\u80FD\u529B\u3002\u5B83\u88AB\u8BBE\u8BA1\u4E3A\u65E7\u7684 Mutation Events \u529F\u80FD\u7684\u66FF\u4EE3\u54C1\uFF0C\u8BE5\u529F\u80FD\u662F DOM3 Events \u89C4\u8303\u7684\u4E00\u90E8\u5206\u3002 "),n("p",null,"disconnect(): \u5173\u95ED\u76D1\u542C\uFF0C \u963B\u6B62 MutationObserver \u5B9E\u4F8B\u7EE7\u7EED\u63A5\u6536\u7684\u901A\u77E5\uFF0C\u76F4\u5230\u518D\u6B21\u8C03\u7528\u5176 observe() \u65B9\u6CD5\uFF0C\u8BE5\u89C2\u5BDF\u8005\u5BF9\u8C61\u5305\u542B\u7684\u56DE\u8C03\u51FD\u6570\u90FD\u4E0D\u4F1A\u518D\u88AB\u8C03\u7528\u3002"),n("p",null,"observe(): \u5F00\u542F\u76D1\u542C\uFF0C\u914D\u7F6E MutationObserver \u5728 DOM \u66F4\u6539\u5339\u914D\u7ED9\u5B9A\u9009\u9879\u65F6\uFF0C\u901A\u8FC7\u5176\u56DE\u8C03\u51FD\u6570\u5F00\u59CB\u63A5\u6536\u901A\u77E5\u3002"),n("p",null,"takeRecords():\u4ECE MutationObserver \u7684\u901A\u77E5\u961F\u5217\u4E2D\u5220\u9664\u6240\u6709\u5F85\u5904\u7406\u7684\u901A\u77E5\uFF0C\u5E76\u5C06\u5B83\u4EEC\u8FD4\u56DE\u5230 MutationRecord \u5BF9\u8C61\u7684\u65B0 Array \u4E2D\u3002")],-1),is=n("blockquote",null,[n("p",null,"\u4EE3\u7801\u5730\u5740\uFF1Apages/vue3Treasures/components/imgWatermark.vue")],-1),cs=n("blockquote",null,[n("p",null,[n("a",{href:"https://developer.mozilla.org/zh-CN/docs/Web/API/MutationObserver",target:"_blank",rel:"noreferrer"},"MutationObserver----MDN")])],-1),ds=JSON.parse('{"title":"\u622A\u53D6\u5B57\u7B26\u7EC4\u4EF6","description":"","frontmatter":{},"headers":[{"level":2,"title":"1. \u81EA\u52A8\u7701\u7565\u6587\u672C","slug":"_1-\u81EA\u52A8\u7701\u7565\u6587\u672C","link":"#_1-\u81EA\u52A8\u7701\u7565\u6587\u672C","children":[]},{"level":2,"title":"2. loading \u6548\u679C","slug":"_2-loading-\u6548\u679C","link":"#_2-loading-\u6548\u679C","children":[{"level":3,"title":"2.1 \u8F6C\u5708 loading","slug":"_2-1-\u8F6C\u5708-loading","link":"#_2-1-\u8F6C\u5708-loading","children":[]},{"level":3,"title":"2.2 \u5C0F\u7403\u78B0\u649E loading","slug":"_2-2-\u5C0F\u7403\u78B0\u649E-loading","link":"#_2-2-\u5C0F\u7403\u78B0\u649E-loading","children":[]}]},{"level":2,"title":"3. \u56FE\u7247\u6C34\u5370","slug":"_3-\u56FE\u7247\u6C34\u5370","link":"#_3-\u56FE\u7247\u6C34\u5370","children":[]}],"relativePath":"pages/vue3Treasures/vueComponents.md"}'),ps={name:"pages/vue3Treasures/vueComponents.md"},us=Object.assign(ps,{setup(o){return(s,t)=>(g(),D("div",null,[ss,n("div",es,[u(x,{text:"1. \u5355\u884C\u5C55\u793A\u9ED8\u8BA4\u7701\u7565"})]),u(x,{style:{width:"100px"},isShowSuffix:"",text:"2. \u5355\u884C\u5E26\u540E\u7F00\u7701\u7565.jpeg"}),u(x,{style:{width:"80px"},showLine:2,text:"3. \u591A\u884C\u5C55\u793A\u9ED8\u8BA4\u7701\u7565\u5C55\u793A\u9ED8\u8BA4\u7701\u7565.jpeg"}),u(x,{style:{width:"120px"},isShowSuffix:"",showLine:2,text:"4. \u591A\u884C\u5C55\u793A\u5E26\u540E\u7F00\u7701\u7565\u591A\u884C\u5C55\u793A\u5E26\u540E\u7F00\u7701\u7565.jpg"}),ts,u(E),u(E,{size:30}),as,u(Z),ns,os,u(H,{text:"\u4FB5\u6743\u5FC5\u7A76"},{default:j(()=>[ls]),_:1}),is,cs]))}});export{ds as __pageData,us as default};
