import{_ as y,aj as P,p as E,v as b,c as d,o as k,j as a,t as m,n as I,k as w,h as M,s as R,x as N,r as $,F as V,B as O,N as W,a as x,ag as _,G as h,w as U}from"./chunks/framework.By2cXeI6.js";const G=["data-text"],H={__name:"autoEllipsis",props:{text:{type:String,default:""},showLine:{type:[Number,String],default:1},isShowSuffix:{type:Boolean,default:!1},textStyle:{type:Object,default:()=>{}}},setup(n){P(e=>({v75b83d8a:t.showLine}));const t=n,s={fontSize:"12px",...t.textStyle},o=E(null),i=E(t.text),l=parseInt(s.fontSize),p=E(!1);b(()=>{const{text:e,isShowEllipsis:r}=c(o.value,t.text);i.value=e,p.value=r});const c=(e,r)=>{let f;const C=e&&e.clientWidth;if(f=g(r.trim(),s)>=C*t.showLine,f&&t.isShowSuffix){const u=r.split(".").reverse()[0],B=Math.round((u.length+1)*.5),q=(Math.ceil(C/l)*t.showLine).toFixed(0)-B-2;r=r.slice(0,q)+"..."+u}return{text:r,isShowEllipsis:f}},g=(e,r)=>{const f=parseInt(r.fontSize),S=document.createElement("canvas").getContext("2d"),u=window?window.devicePixelRatio:1,B=u*f||u*10,q=r.fontStyle||"sans-serif";S.font=`${B}px ${q}`;const v=S.measureText(e),j=v.width,L=v.actualBoundingBoxRight+v.actualBoundingBoxLeft;return Math.max(j*u,L*u)};return(e,r)=>(k(),d("div",{class:"auto-ellipsis hover-tip","data-text":t.text,ref_key:"autoEllipsisRef",ref:o},[a("span",{class:I([p.value?"overflow-hide-moreline":""]),style:s},m(i.value),3)],8,G))}},F=y(H,[["__scopeId","data-v-f17e945f"]]),J={class:"my-loading"},K={__name:"loading",props:{size:{type:[Number,String],default:"mini"}},setup(n){P(p=>({v3cc652b4:w(l),v8e966454:w(i)}));const t=n,o={mini:60,small:80,medium:100,large:200}[t.size];let i;b(()=>{i=window?window.devicePixelRatio:1});const l=o?o+"px":t.size+"px";return(p,c)=>(k(),d("div",J))}},D=y(K,[["__scopeId","data-v-ac1a5b94"]]);function Q(n){return M(()=>{const t=document.createElement("canvas"),s=t.getContext("2d"),o=window.devicePixelRatio||1,l=n.fontSize*o+"px serif",{width:p,actualBoundingBoxRight:c,actualBoundingBoxLeft:g}=s.measureText(n.text),e=Math.max(100,p,c+g)+n.gap*o;return t.width=e,t.height=e,s.translate(t.width/2,t.height/2),s.rotate(Math.PI/180*-45),s.fillStyle="#f40",s.textAlign="left",s.textBaseline="middle",s.font=l,s.fillText(n.text,0,0),{base64:t.toDataURL(),size:e,styleSize:e/o}})}const X={__name:"imgWatermark",props:{text:{type:String,required:!0,default:"waterMark"},fontSize:{type:[Number,String],default:10},gap:{type:Number,default:10}},setup(n){const t=n,s=E(null),o=Q(t);let i;const l=E(0);R(()=>{if(l.value,!s.value)return;i&&i.remove();const{base64:c,size:g,styleSize:e}=o.value;i=document.createElement("div"),i.style.backgroundImage=`url(${c})`,i.style.backgroundSize=`${e}px ${e}px`,i.style.backgroundRepeat="repeat",i.style.pointerEvents="none",i.style.position="absolute",i.style.zInde=9999,i.style.inset=0,s.value.appendChild(i)});let p;return b(()=>{p=new MutationObserver(c=>{for(const g of c){for(const e of g.removedNodes)if(e===i){l.value++;return}if(g.target===i){l.value++;return}}}),p.observe(s.value,{childList:!0,attributes:!0,subtree:!0})}),N(()=>{p&&p.disconnect(),i=null}),(c,g)=>(k(),d("div",{class:"water-mark",ref_key:"parentRef",ref:s},[$(c.$slots,"default",{},void 0,!0)],512))}},Y=y(X,[["__scopeId","data-v-2f1af264"]]),Z={},ss={class:"content"};function is(n,t){return k(),d("div",ss,[...t[0]||(t[0]=[a("div",{class:"crash-ball-loading"},[a("div",{class:"ball left-ball"}),a("div",{class:"ball right-ball"})],-1)])])}const ts=y(Z,[["render",is],["__scopeId","data-v-a0f657f2"]]),as={class:"no-data"},es={class:"wavy"},ns={__name:"textLoading",props:{loadingText:{type:String,default:"暂无更多数据..."}},setup(n){return(t,s)=>(k(),d("div",as,[a("div",es,[(k(!0),d(V,null,O(n.loadingText,(o,i)=>(k(),d("span",{key:i,style:W({"--i":i})},m(o),5))),128))])]))}},A=y(ns,[["__scopeId","data-v-006a87c4"]]),ls={key:0,class:"container"},T="1.人和人之间舒服的关系，是可以一直不说话，也可以随时说话。2.有朵盛开的云，缓缓滑过山顶，随风飘向天边。",os={__name:"MultilineTextErasingEffect",props:{isCss:{type:Boolean,default:!0}},setup(n){const t=E(null),s=E("");b(()=>{});function o(i){let l=0,p=setInterval(()=>{l++,l===i.length&&clearInterval(p),s.value=i.slice(0,l)},Math.random()*500)}return o(T),(i,l)=>(k(),d("div",null,[n.isCss?(k(),d("div",ls,[a("p",null,m(T)),a("p",{class:"eraser"},[a("span",{class:"text"},m(T))])])):(k(),d("p",{key:1,ref_key:"jsAtainRef",ref:t,class:"js-atain-style"},[x(m(s.value)+" ",1),l[0]||(l[0]=a("span",{class:"jump"},"|",-1))],512))]))}},z=y(os,[["__scopeId","data-v-774c5388"]]),ps={style:{width:"180px"}},ds=JSON.parse('{"title":"截取字符组件","description":"","frontmatter":{},"headers":[],"relativePath":"pages/vue3Treasures/vueComponents.md","filePath":"pages/vue3Treasures/vueComponents.md"}'),hs={name:"pages/vue3Treasures/vueComponents.md"},ks=Object.assign(hs,{setup(n){return(t,s)=>(k(),d("div",null,[s[1]||(s[1]=_("",3)),a("div",ps,[h(F,{text:"1. 单行展示默认省略 单行展示默认省略"})]),h(F,{style:{width:"200px"},isShowSuffix:"",text:"2. 单行带后缀省略单行带后缀省略单行带后缀省略.jpeg"}),h(F,{style:{width:"80px"},showLine:2,text:"3. 多行展示默认省略展示默认省略.jpeg"}),h(F,{style:{width:"220px"},isShowSuffix:"",showLine:2,text:"4. 多行展示带后缀省略多行展示带后缀省略.jpg多行展示带后缀省略多行展示带后缀省略.jpg"}),s[2]||(s[2]=_("",4)),h(A),h(A,{loadingText:"正在加载中..."}),h(A,{loadingText:"请稍后..."}),s[3]||(s[3]=_("",2)),h(D),h(D,{size:30}),s[4]||(s[4]=_("",3)),h(ts),s[5]||(s[5]=a("blockquote",null,[a("p",null,"代码地址：pages/vue3Treasures/components/crashBallLoading.vue")],-1)),s[6]||(s[6]=a("h2",{id:"_3-图片水印",tabindex:"-1"},[x("3. 图片水印 "),a("a",{class:"header-anchor",href:"#_3-图片水印","aria-label":'Permalink to "3. 图片水印"'},"​")],-1)),h(Y,{text:"侵权必究"},{default:U(()=>[...s[0]||(s[0]=[a("div",null,[x(" MutationObserver 接口提供了监视对 DOM 树所做更改的能力。它被设计为旧的 Mutation Events 功能的替代品，该功能是 DOM3 Events 规范的一部分。 "),a("p",null,"disconnect(): 关闭监听， 阻止 MutationObserver 实例继续接收的通知，直到再次调用其 observe() 方法，该观察者对象包含的回调函数都不会再被调用。"),a("p",null,"observe(): 开启监听，配置 MutationObserver 在 DOM 更改匹配给定选项时，通过其回调函数开始接收通知。"),a("p",null,"takeRecords():从 MutationObserver 的通知队列中删除所有待处理的通知，并将它们返回到 MutationRecord 对象的新 Array 中。")],-1)])]),_:1}),s[7]||(s[7]=a("blockquote",null,[a("p",null,"代码地址：pages/vue3Treasures/components/imgWatermark.vue")],-1)),s[8]||(s[8]=a("blockquote",null,[a("p",null,[a("a",{href:"https://developer.mozilla.org/zh-CN/docs/Web/API/MutationObserver",target:"_blank",rel:"noreferrer"},"MutationObserver----MDN")])],-1)),s[9]||(s[9]=a("h2",{id:"_4-多行文本擦除效果出现",tabindex:"-1"},[x("4. 多行文本擦除效果出现 "),a("a",{class:"header-anchor",href:"#_4-多行文本擦除效果出现","aria-label":'Permalink to "4. 多行文本擦除效果出现"'},"​")],-1)),h(z),s[10]||(s[10]=_("",4)),h(z,{isCss:!1})]))}});export{ds as __pageData,ks as default};
