import{_ as D,v as k,c as y,o as x,j as s,p as _,t as S,F as A,x as P,k as B,G as C,ag as T,a as f}from"./chunks/framework.By2cXeI6.js";const q={style:{width:"600px"}},$={__name:"smallBalls",setup(b){return k(()=>{const a=document.getElementById("canvas-dom");if(a.width=600,a.getContext){let l=function(){e.fillStyle="rgba(255, 255, 255, 0.3)",e.fillRect(0,0,a.width,a.height),t.draw(),t.vy*=.99,t.vy+=.15,t.x+=t.vx,t.y+=t.vy,(t.x+t.vx>a.width||t.x+t.vx<0)&&(t.vx=-t.vx),(t.y+t.vy>a.height||t.y+t.vy<0)&&(t.vy=-t.vy,t.y+t.vy>310&&(t.y=50)),window.requestAnimationFrame(l)};const e=a.getContext("2d");let t={x:50,y:50,vx:1,vy:3,radius:10,color:"blue",draw:function(){e.beginPath(),e.arc(this.x,this.y,this.radius,0,Math.PI*2,!1),e.closePath(),e.fillStyle=this.color,e.fill()}};window.requestAnimationFrame(l),t.draw()}}),(a,e)=>(x(),y("div",q,[...e[0]||(e[0]=[s("canvas",{id:"canvas-dom",width:"600",height:"300"}," 当前浏览器不支持canvas元素，请升级或更换浏览器！ ",-1)])]))}},F=D($,[["__scopeId","data-v-56ad4510"]]),L="https://img2.baidu.com/it/u=4044887937,3129736188&fm=253&fmt=auto&app=138&f=JPEG?w=640&h=392",R={__name:"themeChange",setup(b){let a=null,e=null,t=null;const l=_(""),d=_("");k(()=>{e=document.getElementById("themeCanvas"),a=e.getContext("2d",{willReadFrequently:!0}),t=new Image,t.crossOrigin="Anonymous",t.src=L,t.onload=()=>{a.drawImage(t,0,0,600,300),t.style.display="none"},e.addEventListener("mousemove",function(n){i("move",n)}),e.addEventListener("click",n=>{i("click",n)});function i(n,o){const c=o.offsetX,E=o.offsetY,m=a.getImageData(c,E,1,1).data,v=`rgba(${m[0]}, ${m[1]}, ${m[2]}, ${m[3]/255})`;if(n=="move")l.value=v;else{d.value=v;const p=a.getImageData(0,0,e.width,e.height),I=p.data;for(let h=0;h<=I.length;h+=4)I[h]=m[0],I[h+1]=m[1],I[h+2]=m[2];a.putImageData(p,0,0)}return v}});const u=()=>{a.drawImage(t,0,0,600,300)},g=()=>{u();const i=a.getImageData(0,0,e.width,e.height),n=i.data;for(let o=0;o<=n.length;o+=4){const c=(n[o]+n[o+1]+n[o+2])/3;n[o]=c,n[o+1]=c,n[o+2]=c}a.putImageData(i,0,0)},r=()=>{u();const i=a.getImageData(0,0,e.width,e.height),n=i.data;for(let o=0;o<=n.length;o+=4)n[o]=255-n[o],n[o+1]=255-n[o+1],n[o+2]=255-n[o+2];a.putImageData(i,0,0)};return(i,n)=>(x(),y(A,null,[n[0]||(n[0]=s("canvas",{id:"themeCanvas",width:"600",height:"300"},null,-1)),s("div",null,"划过的颜色为："+S(l.value),1),s("div",null,"选中的颜色： "+S(d.value),1),s("button",{onClick:u},"还原"),s("button",{onClick:g},"黑白"),s("button",{onClick:r},"曝光")],64))}},V=D(R,[["__scopeId","data-v-a763a1e1"]]),H={__name:"Signature",setup(b){let a=null,e=null;k(()=>{e=document.getElementById("signatureCanvas"),a=e.getContext("2d"),e.addEventListener("mouseenter",()=>{e.addEventListener("mousedown",d=>{a.beginPath(),a.moveTo(d.offsetX,d.offsetY),e.addEventListener("mousemove",l)}),e.addEventListener("mouseup",()=>{e.removeEventListener("mousemove",l)})});const l=d=>{a.lineTo(d.offsetX,d.offsetY),a.stroke()}});const t=()=>{a.clearRect(0,0,e.width,e.height)};return(l,d)=>(x(),y(A,null,[d[0]||(d[0]=s("canvas",{id:"signatureCanvas",width:"600",height:"300"},null,-1)),s("button",{onClick:t},"清空画布")],64))}},N=D(H,[["__scopeId","data-v-cbe5a4a7"]]),M="/ybhdsg-zhs/assets/%E6%9C%AC%E8%8D%89%E7%BA%B2%E7%9B%AE.C4sxSLME.mp3",X=["src"],Y={__name:"audioVisualisation",setup(b){const a=_(null);let e=_([]),t=_(!1),l;return k(()=>{const d=document.querySelector("audio"),u=document.querySelector("canvas"),g=u.getContext("2d");d.onplay=function(){if(t.value)return;const r=new AudioContext,i=r.createMediaElementSource(d);a.value=r.createAnalyser(),a.value.fftSize=512,e.value=new Uint8Array(a.value.frequencyBinCount),i.connect(a.value),a.value.connect(r.destination),t.value=!0},l=()=>{requestAnimationFrame(l);const{width:r,height:i}=u;if(g.clearRect(0,0,r,i),!t.value)return;a.value.getByteFrequencyData(e.value);const n=e.value.length/2,o=r/n/2;console.log(n),g.fillStyle="#e0f9b5";for(let c=0;c<n;c++){const w=e.value[c]/255*i,m=c*o+r/2,v=r/2-(c+1)*o,p=i-w;g.fillRect(m,p,o-2,w),g.fillRect(v,p,o-2,w)}},l()}),P(()=>{window.requestAnimationFrame(l)}),(d,u)=>(x(),y("div",null,[u[0]||(u[0]=s("canvas",null,null,-1)),s("audio",{src:B(M),controls:""},null,8,X)]))}},W=D(Y,[["__scopeId","data-v-e31c5567"]]),z=JSON.parse('{"title":"canvas 的小 demo","description":"","frontmatter":{},"headers":[],"relativePath":"pages/canvas/demo.md","filePath":"pages/canvas/demo.md"}'),O={name:"pages/canvas/demo.md"},G=Object.assign(O,{setup(b){return(a,e)=>(x(),y("div",null,[e[0]||(e[0]=s("h1",{id:"canvas-的小-demo",tabindex:"-1"},[f("canvas 的小 demo "),s("a",{class:"header-anchor",href:"#canvas-的小-demo","aria-label":'Permalink to "canvas 的小 demo"'},"​")],-1)),e[1]||(e[1]=s("h2",{id:"_1-音频可视化",tabindex:"-1"},[f("1. 音频可视化 "),s("a",{class:"header-anchor",href:"#_1-音频可视化","aria-label":'Permalink to "1. 音频可视化"'},"​")],-1)),C(W),e[2]||(e[2]=s("h2",{id:"_2-小球的自由落体运动",tabindex:"-1"},[f("2. 小球的自由落体运动 "),s("a",{class:"header-anchor",href:"#_2-小球的自由落体运动","aria-label":'Permalink to "2. 小球的自由落体运动"'},"​")],-1)),C(F),e[3]||(e[3]=s("h2",{id:"_3-烟花",tabindex:"-1"},[f("3. 烟花 "),s("a",{class:"header-anchor",href:"#_3-烟花","aria-label":'Permalink to "3. 烟花"'},"​")],-1)),e[4]||(e[4]=s("h2",{id:"_4-主题色改变-图片加上滤镜-和拾色器",tabindex:"-1"},[f("4. 主题色改变（图片加上滤镜）和拾色器 "),s("a",{class:"header-anchor",href:"#_4-主题色改变-图片加上滤镜-和拾色器","aria-label":'Permalink to "4. 主题色改变（图片加上滤镜）和拾色器"'},"​")],-1)),C(V),e[5]||(e[5]=T("",3)),C(N)]))}});export{z as __pageData,G as default};
